"use strict";(self.webpackChunkadmin_plus=self.webpackChunkadmin_plus||[]).push([[4719],{78084:(e,n,t)=>{t.d(n,{A:()=>d});var l=t(63464),i=t(40033),o=t(28170),r=t(79739),s=t(45098),a=t(44414);function d(e){let{title:n,content:t,action:d,open:c,onClose:u,...h}=e;return(0,a.jsxs)(l.A,{fullWidth:!0,maxWidth:"xs",open:c,onClose:u,...h,children:[(0,a.jsx)(i.A,{sx:{pb:2},children:n}),t&&(0,a.jsxs)(o.A,{sx:{typography:"body2"},children:[" ",t," "]}),(0,a.jsxs)(r.A,{children:[d,(0,a.jsx)(s.A,{variant:"outlined",color:"inherit",onClick:u,children:"Cancel"})]})]})}},87033:(e,n,t)=>{t.d(n,{A:()=>u});var l=t(53011),i=t(12257),o=t(82053),r=t(52432),s=t(36080),a=t(42074),d=t(44414);function c(e){let{link:n,activeLast:t,disabled:i}=e;const{name:o,href:r,icon:c}=n,u={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...i&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},h=(0,d.jsxs)(d.Fragment,{children:[c&&(0,d.jsx)(l.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:c}),o]});return r?(0,d.jsx)(s.A,{component:a.N_,to:r,sx:u,children:h}):(0,d.jsxs)(l.A,{sx:u,children:[" ",h," "]})}function u(e){let{links:n,action:t,heading:a,moreLink:u,activeLast:x,sx:v,...g}=e;const p=n[n.length-1].name;return(0,d.jsxs)(l.A,{sx:{mb:5,...v},children:[(0,d.jsxs)(i.A,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(l.A,{sx:{flexGrow:1},children:[a&&(0,d.jsx)(o.A,{variant:"h4",gutterBottom:!0,children:a}),!!n.length&&(0,d.jsx)(r.A,{separator:(0,d.jsx)(h,{}),...g,children:n.map((e=>(0,d.jsx)(c,{link:e,activeLast:x,disabled:e.name===p},e.name||"")))})]}),t&&(0,d.jsxs)(l.A,{sx:{flexShrink:0},children:[" ",t," "]})]}),!!u&&(0,d.jsx)(l.A,{sx:{mt:2},children:u.map((e=>(0,d.jsx)(s.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}function h(){return(0,d.jsx)(l.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},54593:(e,n,t)=>{function l(e,n,t){return e>0?Math.max(0,(1+e)*n-t):0}function i(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}function o(e,n){return"desc"===e?(e,t)=>i(e,t,n):(e,t)=>-i(e,t,n)}t.d(n,{dO:()=>p,er:()=>b,Sm:()=>g,We:()=>k,Uv:()=>S,xl:()=>l,hz:()=>o,K2:()=>s});var r=t(9950);function s(e){const[n,t]=(0,r.useState)(!(null===e||void 0===e||!e.defaultDense)),[l,i]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"name"),[o,s]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),[a,d]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[c,u]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||5),[h,x]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),v=(0,r.useCallback)((e=>{""!==e&&(s(l===e&&"asc"===o?"desc":"asc"),i(e))}),[o,l]),g=(0,r.useCallback)((e=>{const n=h.indexOf(e);let t=[];-1===n?t=t.concat(h,e):0===n?t=t.concat(h.slice(1)):n===h.length-1?t=t.concat(h.slice(0,-1)):n>0&&(t=t.concat(h.slice(0,n),h.slice(n+1))),x(t)}),[h]),p=(0,r.useCallback)(((e,n)=>{x(e?n:[])}),[]),m=(0,r.useCallback)(((e,n)=>{d(n)}),[]),j=(0,r.useCallback)((e=>{d(0),u(parseInt(e.target.value,10))}),[]),A=(0,r.useCallback)((e=>{t(e.target.checked)}),[]);return{dense:n,order:o,page:a,orderBy:l,rowsPerPage:c,selected:h,onSelectRow:g,onSelectAllRows:p,onSort:v,onChangePage:m,onChangeDense:A,onChangeRowsPerPage:j,setPage:d,setDense:t,setOrder:s,setOrderBy:i,setSelected:x,setRowsPerPage:u}}var a=t(9213),d=t(21671),c=t(12257),u=t(82053),h=t(7653),x=t(44414);function v(e){let{title:n,description:t,img:l,sx:i,...o}=e;return(0,x.jsxs)(c.A,{alignItems:"center",justifyContent:"center",sx:{height:1,textAlign:"center",p:e=>e.spacing(8,2),...i},...o,children:[(0,x.jsx)(h.A,{disabledEffect:!0,alt:"empty content",src:l||"/assets/illustrations/illustration_empty_content.svg",sx:{height:240,mb:3}}),(0,x.jsx)(u.A,{variant:"h5",gutterBottom:!0,children:n}),t&&(0,x.jsx)(u.A,{variant:"body2",sx:{color:"text.secondary"},children:t})]})}function g(e){let{isNotFound:n}=e;return(0,x.jsx)(a.A,{children:n?(0,x.jsx)(d.A,{colSpan:12,children:(0,x.jsx)(v,{title:"No Data",sx:{"& span.MuiBox-root":{height:160}}})}):(0,x.jsx)(d.A,{colSpan:12,sx:{p:0}})})}function p(e){let{emptyRows:n,height:t}=e;return n?(0,x.jsx)(a.A,{sx:{...t&&{height:t*n}},children:(0,x.jsx)(d.A,{colSpan:9})}):null}var m=t(69780),j=t(7251),A=t(53011);const f={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function b(e){let{order:n,orderBy:t,rowCount:l=0,headLabel:i,numSelected:o=0,onSort:r,onSelectAllRows:s,sx:c}=e;return(0,x.jsx)(m.A,{sx:c,children:(0,x.jsx)(a.A,{children:i.map((e=>(0,x.jsx)(d.A,{align:e.align||"left",sortDirection:t===e.id&&n,sx:{width:e.width,minWidth:e.minWidth},children:r?(0,x.jsxs)(j.A,{hideSortIcon:!0,active:t===e.id,direction:t===e.id?n:"asc",onClick:()=>r(e.id),sx:{textTransform:"capitalize"},children:[e.label,t===e.id?(0,x.jsx)(A.A,{sx:{...f},children:"desc"===n?"sorted descending":"sorted ascending"}):null]}):e.label},e.id)))})})}var w=t(93038);function S(e){let{dense:n,action:t,rowCount:l,numSelected:i,onSelectAllRows:o,sx:r,...s}=e;return i?(0,x.jsxs)(c.A,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:"primary.lighter",...n&&{height:38},...r},...s,children:[(0,x.jsx)(w.A,{indeterminate:i>0&&i<l,checked:l>0&&i===l,onChange:e=>o(e.target.checked)}),(0,x.jsxs)(u.A,{variant:"subtitle1",sx:{ml:2,flexGrow:1,color:"primary.main",...n&&{ml:3}},children:[i," selected"]}),t&&t]}):null}var y=t(91434),C=t(16497),R=t(37324);function k(e){let{dense:n,onChangeDense:t,rowsPerPageOptions:l=[5,10,25],sx:i,...o}=e;return(0,x.jsxs)(A.A,{sx:{position:"relative",...i},children:[(0,x.jsx)(y.A,{rowsPerPageOptions:l,component:"div",...o}),t&&(0,x.jsx)(C.A,{label:"Dense",control:(0,x.jsx)(R.A,{checked:n,onChange:t}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}})]})}},14719:(e,n,t)=>{t.r(n),t.d(n,{default:()=>q});var l=t(76455),i=t(94614),o=t(9950),r=t(28429),s=t(42074),a=t(19808),d=t(45098),c=t(48089),u=t(38200),h=t(84142),x=t(74745),v=t(1320),g=t(83274),p=t(25333),m=t(15769),j=t(34075),A=t(90260),f=t(39332),b=t(64071),w=t(78084),S=t(87033),y=t(3320),C=t(54593),R=t(9213),k=t(21671),B=t(12257),P=t(62854),D=t(82053),L=t(23266),N=t(39635),F=t(44414);function I(e){let{row:n,selected:t,onEditRow:l,onSelectRow:i,onDeleteRow:r}=e;const{title:s,image:a,description:c,is_main:u}=n,h="https://aqarbackend.revampbrands.com/storage/".concat(a),[x,v]=(0,o.useState)(!1),[g,m]=(0,o.useState)(null),j=()=>{m(null)};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(R.A,{hover:!0,selected:t,children:[(0,F.jsx)(k.A,{children:(0,F.jsxs)(B.A,{direction:"row",alignItems:"center",spacing:2,children:[(0,F.jsx)(P.A,{alt:null===s||void 0===s?void 0:s.ar,src:h}),(0,F.jsx)(D.A,{variant:"subtitle2",noWrap:!0,children:null===s||void 0===s?void 0:s.ar})]})}),(0,F.jsx)(k.A,{align:"left",sx:{textTransform:"capitalize"},children:null===s||void 0===s?void 0:s.en}),(0,F.jsx)(k.A,{align:"left",sx:{textTransform:"capitalize"},children:(0,F.jsx)("div",{className:"desc",dangerouslySetInnerHTML:{__html:null===c||void 0===c?void 0:c.ar}})}),(0,F.jsx)(k.A,{align:"left",sx:{textTransform:"capitalize"},children:(0,F.jsx)("div",{className:"desc",dangerouslySetInnerHTML:{__html:null===c||void 0===c?void 0:c.en}})}),(0,F.jsx)(k.A,{align:"center",sx:{textTransform:"capitalize"},children:1===u?(0,F.jsx)(P.A,{alt:s.en,src:"/assets/done.svg"}):(0,F.jsx)(P.A,{alt:s.en,src:"/assets/unDone.svg"})}),(0,F.jsx)(k.A,{align:"right",children:(0,F.jsx)(p.A,{color:g?"inherit":"default",onClick:e=>{m(e.currentTarget)},children:(0,F.jsx)(f.A,{icon:"eva:more-vertical-fill"})})})]}),(0,F.jsxs)(N.A,{open:g,onClose:j,arrow:"right-top",sx:{width:140},children:[(0,F.jsxs)(L.A,{onClick:()=>{v(!0),j()},sx:{color:"error.main"},children:[(0,F.jsx)(f.A,{icon:"eva:trash-2-outline"}),"Delete"]}),(0,F.jsxs)(L.A,{onClick:()=>{l(),j()},children:[(0,F.jsx)(f.A,{icon:"eva:edit-fill"}),"Edit"]})]}),(0,F.jsx)(w.A,{open:x,onClose:()=>{v(!1)},title:"Delete",content:"Are you sure want to delete?",action:(0,F.jsx)(d.A,{variant:"contained",color:"error",onClick:r,children:"Delete"})})]})}var T=t(16987),_=t(2046);function O(e){let{isFiltered:n,filterName:t,filterRole:l,optionsRole:i,onFilterName:o,onFilterRole:r,onResetFilter:s}=e;return(0,F.jsx)(B.A,{spacing:2,alignItems:"center",direction:{xs:"column",sm:"row"},sx:{px:2.5,py:3},children:(0,F.jsx)(T.A,{fullWidth:!0,value:t,onChange:o,placeholder:"Search...",InputProps:{startAdornment:(0,F.jsx)(_.A,{position:"start",children:(0,F.jsx)(f.A,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})})}var z=t(98252);const W=[],M=["all","activ","unActiv"],E=[{id:"titlear",label:"Name ar",align:"left"},{id:"titleen",label:"Name en",align:"left"},{id:"descriptionar",label:"Description ar",align:"left"},{id:"descriptionen",label:"Description en",align:"left"},{id:"main",label:"Main",align:"left"},{id:""}];function q(){var e;const{dense:n,page:t,order:R,orderBy:k,rowsPerPage:B,setPage:P,selected:D,setSelected:L,onSelectRow:N,onSelectAllRows:T,onSort:_,onChangeDense:q,onChangePage:Z,onChangeRowsPerPage:G}=(0,C.K2)(),{themeStretch:H}=(0,y.Mp)(),K=(0,r.Zp)(),{data:U,isBannersLoading:Q,refetch:X}=(0,z.Xb)(),[$,J]=(0,o.useState)([]);(0,o.useEffect)((()=>{var e;U&&!Q&&J(null===U||void 0===U||null===(e=U.data)||void 0===e?void 0:e.data)}),[U,$,Q]);const[V,Y]=(0,o.useState)(!1),[ee,ne]=(0,o.useState)(""),[te,le]=(0,o.useState)("all"),[ie,oe]=(0,o.useState)("all"),re=function(e){var n;let{inputData:t,comparator:l,filterName:i,filterStatus:o,filterRole:r}=e;const s=null===(n=t)||void 0===n?void 0:n.map(((e,n)=>[e,n]));var a;null===s||void 0===s||s.sort(((e,n)=>{const t=l(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),t=null===s||void 0===s?void 0:s.map((e=>e[0])),i&&(t=null===(a=t)||void 0===a?void 0:a.filter((e=>-1!==e.name.ar.toLowerCase().indexOf(i.toLowerCase()))));"all"!==o&&(t=t.filter((e=>e.active===o)));"all"!==r&&(t=t.filter((e=>e.role===r)));return t}({inputData:$,comparator:(0,C.hz)(R,k),filterName:ee,filterRole:te,filterStatus:ie}),se=null===re||void 0===re?void 0:re.slice(t*B,t*B+B),ae=n?52:72,de=""!==ee||"all"!==te||"all"!==ie,ce=!re.length&&!!ee||!re.length&&!!te||!re.length&&!!ie,ue=()=>{Y(!1)},[he]=(0,z.to)(),xe=3===(null===$||void 0===$?void 0:$.length);return console.log("\ud83d\ude80 ~ BannersListPage ~ is_available:",xe),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(l.mg,{children:(0,F.jsx)("title",{children:" Banners: List "})}),(0,F.jsxs)(a.A,{maxWidth:!H&&"lg",children:[(0,F.jsx)(S.A,{heading:"Banners List",links:[{name:"Dashboard",href:A.nB.root},{name:"Banners",href:A.nB.banners.list},{name:"List"}],action:!xe&&(0,F.jsx)(d.A,{component:s.N_,to:A.nB.banners.new,variant:"contained",startIcon:(0,F.jsx)(f.A,{icon:"eva:plus-fill"}),children:"New Banner"})}),(0,F.jsxs)(c.A,{children:[(0,F.jsx)(u.A,{value:ie,onChange:(e,n)=>{P(0),oe(n)},sx:{px:2,bgcolor:"background.neutral"},children:W.map((e=>(0,F.jsx)(h.A,{label:e,value:e},e)))}),(0,F.jsx)(x.A,{}),(0,F.jsx)(O,{isFiltered:de,filterName:ee,filterRole:te,optionsRole:M,onFilterName:e=>{P(0),ne(e.target.value)},onFilterRole:e=>{P(0),le(e.target.value)},onResetFilter:()=>{ne(""),le("all"),oe("all")}}),(0,F.jsxs)(v.A,{sx:{position:"relative",overflow:"unset"},children:[(0,F.jsx)(C.Uv,{dense:n,numSelected:null===D||void 0===D?void 0:D.length,rowCount:null===$||void 0===$?void 0:$.length,onSelectAllRows:e=>T(e,null===$||void 0===$?void 0:$.map((e=>e.id))),action:(0,F.jsx)(g.A,{title:"Delete",children:(0,F.jsx)(p.A,{color:"primary",onClick:()=>{Y(!0)},children:(0,F.jsx)(f.A,{icon:"eva:trash-2-outline"})})})}),(0,F.jsx)(b.A,{children:(0,F.jsxs)(m.A,{size:n?"small":"medium",sx:{minWidth:800},children:[(0,F.jsx)(C.er,{order:R,orderBy:k,headLabel:E,rowCount:$.length,numSelected:D.length,onSort:_,onSelectAllRows:e=>T(e,$.map((e=>e.id)))}),(0,F.jsxs)(j.A,{children:[null===re||void 0===re||null===(e=re.slice(t*B,t*B+B))||void 0===e?void 0:e.map((e=>(0,F.jsx)(I,{row:e,selected:D.includes(null===e||void 0===e?void 0:e.id),onSelectRow:()=>N(null===e||void 0===e?void 0:e.id),onDeleteRow:()=>(async e=>{await he(e);const n=null===$||void 0===$?void 0:$.filter((n=>(null===n||void 0===n?void 0:n.id)!==e));L([]),J(n),X(),t>0&&se.length<2&&P(t-1)})(null===e||void 0===e?void 0:e.id),onEditRow:()=>{return n=null===e||void 0===e?void 0:e.id,n=String(n),void K(A.nB.banners.edit((0,i.c)(n)));var n}},null===e||void 0===e?void 0:e.id))),(0,F.jsx)(C.dO,{height:ae,emptyRows:(0,C.xl)(t,B,null===$||void 0===$?void 0:$.length)}),(0,F.jsx)(C.Sm,{isNotFound:ce})]})]})})]})]})]}),(0,F.jsx)(w.A,{open:V,onClose:ue,title:"Delete",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to delete"," ",(0,F.jsxs)("strong",{children:[" ",D.length," "]})," items?"]}),action:(0,F.jsx)(d.A,{variant:"contained",color:"error",onClick:()=>{(e=>{const n=null===$||void 0===$?void 0:$.filter((n=>!e.includes(null===n||void 0===n?void 0:n.id)));if(L([]),J(n),t>0)if((null===e||void 0===e?void 0:e.length)===(null===se||void 0===se?void 0:se.length))P(t-1);else if((null===e||void 0===e?void 0:e.length)===(null===re||void 0===re?void 0:re.length))P(0);else if((null===e||void 0===e?void 0:e.length)>(null===se||void 0===se?void 0:se.length)){const n=Math.ceil(((null===$||void 0===$?void 0:$.length)-(null===e||void 0===e?void 0:e.length))/B)-1;P(n)}})(D),ue()},children:"Delete"})})]})}},98252:(e,n,t)=>{t.d(n,{CW:()=>r,K1:()=>s,Xb:()=>i,hy:()=>o,to:()=>a});const l=t(29994).FH.injectEndpoints({reducerPath:"apiUser",endpoints:e=>({getBanners:e.query({query:e=>"/banners?per_page=".concat(3),providesTags:["banners"]}),getBannersId:e.query({query:e=>"/banners/".concat(e,"?local=none"),providesTags:["banners"]}),addBanners:e.mutation({query:e=>({url:"/banners",method:"POST",body:e}),invalidatesTags:["banners"]}),editBanners:e.mutation({query:e=>{let{formData:n,id:t}=e;return{url:"/banners/".concat(t),method:"POST",body:n}},invalidatesTags:["/banners"]}),deleteBanners:e.mutation({query:n=>({url:"/banners/".concat(n),method:"Delete",body:e}),invalidatesTags:["/banners"]})})}),{useGetBannersQuery:i,useAddBannersMutation:o,useEditBannersMutation:r,useGetBannersIdQuery:s,useDeleteBannersMutation:a}=l},68639:(e,n,t)=>{t.d(n,{a:()=>a});var l=t(37827);function i(e){return e.toLowerCase()}var o=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],r=/[^A-Z0-9]+/gi;function s(e,n,t){return n instanceof RegExp?e.replace(n,t):n.reduce((function(e,n){return e.replace(n,t)}),e)}function a(e,n){return void 0===n&&(n={}),function(e,n){void 0===n&&(n={});for(var t=n.splitRegexp,l=void 0===t?o:t,a=n.stripRegexp,d=void 0===a?r:a,c=n.transform,u=void 0===c?i:c,h=n.delimiter,x=void 0===h?" ":h,v=s(s(e,l,"$1\0$2"),d,"\0"),g=0,p=v.length;"\0"===v.charAt(g);)g++;for(;"\0"===v.charAt(p-1);)p--;return v.slice(g,p).split("\0").map(u).join(x)}(e,(0,l.Cl)({delimiter:"."},n))}},94614:(e,n,t)=>{t.d(n,{c:()=>o});var l=t(37827),i=t(68639);function o(e,n){return void 0===n&&(n={}),(0,i.a)(e,(0,l.Cl)({delimiter:"-"},n))}}}]);