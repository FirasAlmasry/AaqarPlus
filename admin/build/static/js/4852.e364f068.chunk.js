"use strict";(self.webpackChunkadmin_plus=self.webpackChunkadmin_plus||[]).push([[4852],{78084:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(63464),l=n(40033),i=n(28170),o=n(79739),s=n(45098),a=n(44414);function c(e){let{title:t,content:n,action:c,open:d,onClose:u,...h}=e;return(0,a.jsxs)(r.A,{fullWidth:!0,maxWidth:"xs",open:d,onClose:u,...h,children:[(0,a.jsx)(l.A,{sx:{pb:2},children:t}),n&&(0,a.jsxs)(i.A,{sx:{typography:"body2"},children:[" ",n," "]}),(0,a.jsxs)(o.A,{children:[c,(0,a.jsx)(s.A,{variant:"outlined",color:"inherit",onClick:u,children:"Cancel"})]})]})}},87033:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(53011),l=n(12257),i=n(82053),o=n(52432),s=n(36080),a=n(42074),c=n(44414);function d(e){let{link:t,activeLast:n,disabled:l}=e;const{name:i,href:o,icon:d}=t,u={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...l&&!n&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},h=(0,c.jsxs)(c.Fragment,{children:[d&&(0,c.jsx)(r.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:d}),i]});return o?(0,c.jsx)(s.A,{component:a.N_,to:o,sx:u,children:h}):(0,c.jsxs)(r.A,{sx:u,children:[" ",h," "]})}function u(e){let{links:t,action:n,heading:a,moreLink:u,activeLast:p,sx:x,...g}=e;const m=t[t.length-1].name;return(0,c.jsxs)(r.A,{sx:{mb:5,...x},children:[(0,c.jsxs)(l.A,{direction:"row",alignItems:"center",children:[(0,c.jsxs)(r.A,{sx:{flexGrow:1},children:[a&&(0,c.jsx)(i.A,{variant:"h4",gutterBottom:!0,children:a}),!!t.length&&(0,c.jsx)(o.A,{separator:(0,c.jsx)(h,{}),...g,children:t.map((e=>(0,c.jsx)(d,{link:e,activeLast:p,disabled:e.name===m},e.name||"")))})]}),n&&(0,c.jsxs)(r.A,{sx:{flexShrink:0},children:[" ",n," "]})]}),!!u&&(0,c.jsx)(r.A,{sx:{mt:2},children:u.map((e=>(0,c.jsx)(s.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}function h(){return(0,c.jsx)(r.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},54593:(e,t,n)=>{function r(e,t,n){return e>0?Math.max(0,(1+e)*t-n):0}function l(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function i(e,t){return"desc"===e?(e,n)=>l(e,n,t):(e,n)=>-l(e,n,t)}n.d(t,{dO:()=>m,er:()=>j,Sm:()=>g,We:()=>R,Uv:()=>b,xl:()=>r,hz:()=>i,K2:()=>s});var o=n(9950);function s(e){const[t,n]=(0,o.useState)(!(null===e||void 0===e||!e.defaultDense)),[r,l]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"name"),[i,s]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),[a,c]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[d,u]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||5),[h,p]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),x=(0,o.useCallback)((e=>{""!==e&&(s(r===e&&"asc"===i?"desc":"asc"),l(e))}),[i,r]),g=(0,o.useCallback)((e=>{const t=h.indexOf(e);let n=[];-1===t?n=n.concat(h,e):0===t?n=n.concat(h.slice(1)):t===h.length-1?n=n.concat(h.slice(0,-1)):t>0&&(n=n.concat(h.slice(0,t),h.slice(t+1))),p(n)}),[h]),m=(0,o.useCallback)(((e,t)=>{p(e?t:[])}),[]),v=(0,o.useCallback)(((e,t)=>{c(t)}),[]),A=(0,o.useCallback)((e=>{c(0),u(parseInt(e.target.value,10))}),[]),y=(0,o.useCallback)((e=>{n(e.target.checked)}),[]);return{dense:t,order:i,page:a,orderBy:r,rowsPerPage:d,selected:h,onSelectRow:g,onSelectAllRows:m,onSort:x,onChangePage:v,onChangeDense:y,onChangeRowsPerPage:A,setPage:c,setDense:n,setOrder:s,setOrderBy:l,setSelected:p,setRowsPerPage:u}}var a=n(9213),c=n(21671),d=n(12257),u=n(82053),h=n(7653),p=n(44414);function x(e){let{title:t,description:n,img:r,sx:l,...i}=e;return(0,p.jsxs)(d.A,{alignItems:"center",justifyContent:"center",sx:{height:1,textAlign:"center",p:e=>e.spacing(8,2),...l},...i,children:[(0,p.jsx)(h.A,{disabledEffect:!0,alt:"empty content",src:r||"/assets/illustrations/illustration_empty_content.svg",sx:{height:240,mb:3}}),(0,p.jsx)(u.A,{variant:"h5",gutterBottom:!0,children:t}),n&&(0,p.jsx)(u.A,{variant:"body2",sx:{color:"text.secondary"},children:n})]})}function g(e){let{isNotFound:t}=e;return(0,p.jsx)(a.A,{children:t?(0,p.jsx)(c.A,{colSpan:12,children:(0,p.jsx)(x,{title:"No Data",sx:{"& span.MuiBox-root":{height:160}}})}):(0,p.jsx)(c.A,{colSpan:12,sx:{p:0}})})}function m(e){let{emptyRows:t,height:n}=e;return t?(0,p.jsx)(a.A,{sx:{...n&&{height:n*t}},children:(0,p.jsx)(c.A,{colSpan:9})}):null}var v=n(69780),A=n(7251),y=n(53011);const f={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function j(e){let{order:t,orderBy:n,rowCount:r=0,headLabel:l,numSelected:i=0,onSort:o,onSelectAllRows:s,sx:d}=e;return(0,p.jsx)(v.A,{sx:d,children:(0,p.jsx)(a.A,{children:l.map((e=>(0,p.jsx)(c.A,{align:e.align||"left",sortDirection:n===e.id&&t,sx:{width:e.width,minWidth:e.minWidth},children:o?(0,p.jsxs)(A.A,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:()=>o(e.id),sx:{textTransform:"capitalize"},children:[e.label,n===e.id?(0,p.jsx)(y.A,{sx:{...f},children:"desc"===t?"sorted descending":"sorted ascending"}):null]}):e.label},e.id)))})})}var w=n(93038);function b(e){let{dense:t,action:n,rowCount:r,numSelected:l,onSelectAllRows:i,sx:o,...s}=e;return l?(0,p.jsxs)(d.A,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:"primary.lighter",...t&&{height:38},...o},...s,children:[(0,p.jsx)(w.A,{indeterminate:l>0&&l<r,checked:r>0&&l===r,onChange:e=>i(e.target.checked)}),(0,p.jsxs)(u.A,{variant:"subtitle1",sx:{ml:2,flexGrow:1,color:"primary.main",...t&&{ml:3}},children:[l," selected"]}),n&&n]}):null}var S=n(91434),C=n(16497),P=n(37324);function R(e){let{dense:t,onChangeDense:n,rowsPerPageOptions:r=[5,10,25],sx:l,...i}=e;return(0,p.jsxs)(y.A,{sx:{position:"relative",...l},children:[(0,p.jsx)(S.A,{rowsPerPageOptions:r,component:"div",...i}),n&&(0,p.jsx)(C.A,{label:"Dense",control:(0,p.jsx)(P.A,{checked:t,onChange:n}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}})]})}},14852:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var r=n(76455),l=n(94614),i=n(9950),o=n(28429),s=n(42074),a=n(19808),c=n(45098),d=n(48089),u=n(38200),h=n(84142),p=n(74745),x=n(1320),g=n(83274),m=n(25333),v=n(15769),A=n(34075),y=n(90260),f=n(39332),j=n(64071),w=n(78084),b=n(87033),S=n(3320),C=n(54593),P=n(9213),R=n(21671),k=n(12257),T=n(62854),D=n(82053),B=n(23266),F=n(39635),E=n(44414);function I(e){let{row:t,selected:n,onEditRow:r,onSelectRow:l,onDeleteRow:o}=e;const{name:s,icon:a,parent:d,children:u}=t,h=(u.length,"https://aqarbackend.revampbrands.com/storage/".concat(a)),[p,x]=(0,i.useState)(!1),[g,v]=(0,i.useState)(null),A=()=>{v(null)};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(P.A,{hover:!0,selected:n,children:[(0,E.jsx)(R.A,{children:(0,E.jsxs)(k.A,{direction:"row",alignItems:"center",spacing:2,children:[(0,E.jsx)(T.A,{alt:s.ar,src:h}),(0,E.jsx)(D.A,{variant:"subtitle2",noWrap:!0,children:s.ar})]})}),(0,E.jsx)(R.A,{align:"left",children:s.en}),(0,E.jsx)(R.A,{align:"left",children:d?d.name.ar:"main"}),(0,E.jsx)(R.A,{align:"left",children:d?d.name.en:"main"}),(0,E.jsx)(R.A,{align:"right",children:(0,E.jsx)(m.A,{color:g?"inherit":"default",onClick:e=>{v(e.currentTarget)},children:(0,E.jsx)(f.A,{icon:"eva:more-vertical-fill"})})})]}),(0,E.jsxs)(F.A,{open:g,onClose:A,arrow:"right-top",sx:{width:140},children:[(0,E.jsxs)(B.A,{onClick:()=>{x(!0),A()},sx:{color:"error.main"},children:[(0,E.jsx)(f.A,{icon:"eva:trash-2-outline"}),"Delete"]}),(0,E.jsxs)(B.A,{onClick:()=>{r(),A()},children:[(0,E.jsx)(f.A,{icon:"eva:edit-fill"}),"Edit"]})]}),(0,E.jsx)(w.A,{open:p,onClose:()=>{x(!1)},title:"Delete",content:"Are you sure want to delete?",action:(0,E.jsx)(c.A,{variant:"contained",color:"error",onClick:o,children:"Delete"})})]})}var L=n(16987),N=n(2046);function O(e){let{isFiltered:t,filterName:n,filterRole:r,optionsRole:l,onFilterName:i,onFilterRole:o,onResetFilter:s}=e;return(0,E.jsx)(k.A,{spacing:2,alignItems:"center",direction:{xs:"column",sm:"row"},sx:{px:2.5,py:3},children:(0,E.jsx)(L.A,{fullWidth:!0,value:n,onChange:i,placeholder:"Search...",InputProps:{startAdornment:(0,E.jsx)(N.A,{position:"start",children:(0,E.jsx)(f.A,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})})}var W=n(90522),q=n(22329);const M=[],_=["all","activ","unActiv"],z=[{id:"nameAr",label:"name ar",align:"left"},{id:"nameEn",label:"name en",align:"left"},{id:"parentAr",label:"parent ar",align:"left"},{id:"parentEn",label:"parent en",align:"left"},{id:""}];function Z(){const{dense:e,page:t,order:n,orderBy:P,rowsPerPage:R,setPage:k,selected:T,setSelected:D,onSelectRow:B,onSelectAllRows:F,onSort:L}=(0,C.K2)(),{themeStretch:N}=(0,S.Mp)(),Z=(0,o.Zp)(),{data:G,isServiseLoading:H,refetch:K}=(0,W.JB)(),[U,J]=(0,i.useState)([]);(0,i.useEffect)((()=>{var e;G&&!H&&J(null===G||void 0===G||null===(e=G.data)||void 0===e?void 0:e.data)}),[G,U,H]);const[Q,$]=(0,i.useState)(!1),[V,X]=(0,i.useState)(""),[Y,ee]=(0,i.useState)("all"),[te,ne]=(0,i.useState)("all"),re=function(e){var t;let{inputData:n,comparator:r,filterName:l,filterStatus:i,filterRole:o}=e;const s=null===(t=n)||void 0===t?void 0:t.map(((e,t)=>[e,t]));s.sort(((e,t)=>{const n=r(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),n=s.map((e=>e[0])),l&&(n=n.filter((e=>-1!==e.name.ar.toLowerCase().indexOf(l.toLowerCase()))));"all"!==i&&(n=n.filter((e=>e.active===i)));"all"!==o&&(n=n.filter((e=>e.role===o)));return n}({inputData:U,comparator:(0,C.hz)(n,P),filterName:V,filterRole:Y,filterStatus:te}),le=re.slice(t*R,t*R+R),ie=e?52:72,oe=""!==V||"all"!==Y||"all"!==te,se=!re.length&&!!V||!re.length&&!!Y||!re.length&&!!te,ae=()=>{$(!1)},{enqueueSnackbar:ce}=(0,q.dh)(),[de]=(0,W.Hr)(),ue=e=>{const n=[];return e.forEach((e=>{const r=(0,E.jsx)(I,{row:e,selected:T.includes(null===e||void 0===e?void 0:e.id),onSelectRow:()=>B(null===e||void 0===e?void 0:e.id),onDeleteRow:()=>(async e=>{const n=await de(e);if(n&&n.error){console.error("An error occurred while deleting area:",n.error);const e=n.error.data.errors||"An error occurred";ce(e,{variant:"error"}),ae(),$(!1)}else{console.log("Area deleted successfully");const n=null===U||void 0===U?void 0:U.filter((t=>(null===t||void 0===t?void 0:t.id)!==e));D([]),J(n),K(),ae(),$(!1),t>0&&le.length<2&&k(t-1)}})(null===e||void 0===e?void 0:e.id),onEditRow:()=>{return t=null===e||void 0===e?void 0:e.id,t=String(t),void Z(y.nB.propertyType.edit((0,l.c)(t)));var t}},null===e||void 0===e?void 0:e.id);if(n.push(r),e.children&&e.children.length>0){const t=ue(e.children);n.push(...t)}})),n};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(r.mg,{children:(0,E.jsx)("title",{children:" PropertyType: List "})}),(0,E.jsxs)(a.A,{maxWidth:!N&&"lg",children:[(0,E.jsx)(b.A,{heading:"PropertyType List",links:[{name:"Dashboard",href:y.nB.root},{name:"PropertyType",href:y.nB.propertyType.list},{name:"List"}],action:(0,E.jsx)(c.A,{component:s.N_,to:y.nB.propertyType.new,variant:"contained",startIcon:(0,E.jsx)(f.A,{icon:"eva:plus-fill"}),children:"New PropertyType"})}),(0,E.jsxs)(d.A,{children:[(0,E.jsx)(u.A,{value:te,onChange:(e,t)=>{k(0),ne(t)},sx:{px:2,bgcolor:"background.neutral"},children:M.map((e=>(0,E.jsx)(h.A,{label:e,value:e},e)))}),(0,E.jsx)(p.A,{}),(0,E.jsx)(O,{isFiltered:oe,filterName:V,filterRole:Y,optionsRole:_,onFilterName:e=>{k(0),X(e.target.value)},onFilterRole:e=>{k(0),ee(e.target.value)},onResetFilter:()=>{X(""),ee("all"),ne("all")}}),(0,E.jsxs)(x.A,{sx:{position:"relative",overflow:"unset"},children:[(0,E.jsx)(C.Uv,{dense:e,numSelected:T.length,rowCount:U.length,onSelectAllRows:e=>F(e,U.map((e=>e.id))),action:(0,E.jsx)(g.A,{title:"Delete",children:(0,E.jsx)(m.A,{color:"primary",onClick:()=>{$(!0)},children:(0,E.jsx)(f.A,{icon:"eva:trash-2-outline"})})})}),(0,E.jsx)(j.A,{children:(0,E.jsxs)(v.A,{size:e?"small":"medium",sx:{minWidth:800},children:[(0,E.jsx)(C.er,{order:n,orderBy:P,headLabel:z,rowCount:U.length,numSelected:T.length,onSort:L,onSelectAllRows:e=>F(e,U.map((e=>e.id)))}),(0,E.jsxs)(A.A,{children:[ue(re),(0,E.jsx)(C.dO,{height:ie,emptyRows:(0,C.xl)(t,R,U.length)}),(0,E.jsx)(C.Sm,{isNotFound:se})]})]})})]})]})]}),(0,E.jsx)(w.A,{open:Q,onClose:ae,title:"Delete",content:(0,E.jsxs)(E.Fragment,{children:["Are you sure want to delete"," ",(0,E.jsxs)("strong",{children:[" ",T.length," "]})," items?"]}),action:(0,E.jsx)(c.A,{variant:"contained",color:"error",onClick:()=>{(e=>{const n=U.filter((t=>!e.includes(t.id)));if(D([]),J(n),t>0)if(e.length===le.length)k(t-1);else if(e.length===re.length)k(0);else if(e.length>le.length){const t=Math.ceil((U.length-e.length)/R)-1;k(t)}})(T),ae()},children:"Delete"})})]})}},90522:(e,t,n)=>{n.d(t,{Hr:()=>a,JB:()=>l,ME:()=>o,xi:()=>i,yK:()=>s});const r=n(29994).FH.injectEndpoints({reducerPath:"apiUser",endpoints:e=>({getPropertyType:e.query({query:()=>"/property-type?per_page=50",invalidatesTags:["property-type"]}),getPropertyTypeId:e.query({query:e=>"/property-type/".concat(e),invalidatesTags:["property-type"]}),addPropertyType:e.mutation({query:e=>({url:"/property-type",method:"POST",body:e}),invalidatesTags:["property-type"]}),editPropertyType:e.mutation({query:e=>{let{formData:t,id:n}=e;return{url:"/property-type/".concat(n),method:"POST",body:t}},invalidatesTags:["property-type"]}),deletePropertyType:e.mutation({query:t=>({url:"/property-type/".concat(t),method:"Delete",body:e}),invalidatesTags:["property-type"]})})}),{useGetPropertyTypeQuery:l,useAddPropertyTypeMutation:i,useEditPropertyTypeMutation:o,useGetPropertyTypeIdQuery:s,useDeletePropertyTypeMutation:a}=r},68639:(e,t,n)=>{n.d(t,{a:()=>a});var r=n(37827);function l(e){return e.toLowerCase()}var i=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],o=/[^A-Z0-9]+/gi;function s(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function a(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?i:n,a=t.stripRegexp,c=void 0===a?o:a,d=t.transform,u=void 0===d?l:d,h=t.delimiter,p=void 0===h?" ":h,x=s(s(e,r,"$1\0$2"),c,"\0"),g=0,m=x.length;"\0"===x.charAt(g);)g++;for(;"\0"===x.charAt(m-1);)m--;return x.slice(g,m).split("\0").map(u).join(p)}(e,(0,r.Cl)({delimiter:"."},t))}},94614:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(37827),l=n(68639);function i(e,t){return void 0===t&&(t={}),(0,l.a)(e,(0,r.Cl)({delimiter:"-"},t))}}}]);