"use strict";(self.webpackChunkadmin_plus=self.webpackChunkadmin_plus||[]).push([[5080],{78084:(e,t,n)=>{n.d(t,{A:()=>c});var l=n(63464),s=n(40033),i=n(28170),o=n(79739),r=n(45098),a=n(44414);function c(e){let{title:t,content:n,action:c,open:d,onClose:h,...x}=e;return(0,a.jsxs)(l.A,{fullWidth:!0,maxWidth:"xs",open:d,onClose:h,...x,children:[(0,a.jsx)(s.A,{sx:{pb:2},children:t}),n&&(0,a.jsxs)(i.A,{sx:{typography:"body2"},children:[" ",n," "]}),(0,a.jsxs)(o.A,{children:[c,(0,a.jsx)(r.A,{variant:"outlined",color:"inherit",onClick:h,children:"Cancel"})]})]})}},87033:(e,t,n)=>{n.d(t,{A:()=>h});var l=n(16491),s=n(12257),i=n(82053),o=n(52432),r=n(36080),a=n(42074),c=n(44414);function d(e){let{link:t,activeLast:n,disabled:s}=e;const{name:i,href:o,icon:d}=t,h={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...s&&!n&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},x=(0,c.jsxs)(c.Fragment,{children:[d&&(0,c.jsx)(l.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:d}),i]});return o?(0,c.jsx)(r.A,{component:a.N_,to:o,sx:h,children:x}):(0,c.jsxs)(l.A,{sx:h,children:[" ",x," "]})}function h(e){let{links:t,action:n,heading:a,moreLink:h,activeLast:u,sx:g,...p}=e;const m=t[t.length-1].name;return(0,c.jsxs)(l.A,{sx:{mb:5,...g},children:[(0,c.jsxs)(s.A,{direction:"row",alignItems:"center",children:[(0,c.jsxs)(l.A,{sx:{flexGrow:1},children:[a&&(0,c.jsx)(i.A,{variant:"h4",gutterBottom:!0,children:a}),!!t.length&&(0,c.jsx)(o.A,{separator:(0,c.jsx)(x,{}),...p,children:t.map((e=>(0,c.jsx)(d,{link:e,activeLast:u,disabled:e.name===m},e.name||"")))})]}),n&&(0,c.jsxs)(l.A,{sx:{flexShrink:0},children:[" ",n," "]})]}),!!h&&(0,c.jsx)(l.A,{sx:{mt:2},children:h.map((e=>(0,c.jsx)(r.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}function x(){return(0,c.jsx)(l.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},54593:(e,t,n)=>{function l(e,t,n){return e>0?Math.max(0,(1+e)*t-n):0}function s(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function i(e,t){return"desc"===e?(e,n)=>s(e,n,t):(e,n)=>-s(e,n,t)}n.d(t,{dO:()=>m,er:()=>w,Sm:()=>p,We:()=>P,Uv:()=>S,xl:()=>l,hz:()=>i,K2:()=>r});var o=n(9950);function r(e){const[t,n]=(0,o.useState)(!(null===e||void 0===e||!e.defaultDense)),[l,s]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"name"),[i,r]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),[a,c]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[d,h]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||25),[x,u]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),g=(0,o.useCallback)((e=>{""!==e&&(r(l===e&&"asc"===i?"desc":"asc"),s(e))}),[i,l]),p=(0,o.useCallback)((e=>{const t=x.indexOf(e);let n=[];-1===t?n=n.concat(x,e):0===t?n=n.concat(x.slice(1)):t===x.length-1?n=n.concat(x.slice(0,-1)):t>0&&(n=n.concat(x.slice(0,t),x.slice(t+1))),u(n)}),[x]),m=(0,o.useCallback)(((e,t)=>{u(e?t:[])}),[]),j=(0,o.useCallback)(((e,t)=>{c(t)}),[]),f=(0,o.useCallback)((e=>{c(0),h(parseInt(e.target.value,10))}),[]),A=(0,o.useCallback)((e=>{n(e.target.checked)}),[]);return{dense:t,order:i,page:a,orderBy:l,rowsPerPage:d,selected:x,onSelectRow:p,onSelectAllRows:m,onSort:g,onChangePage:j,onChangeDense:A,onChangeRowsPerPage:f,setPage:c,setDense:n,setOrder:r,setOrderBy:s,setSelected:u,setRowsPerPage:h}}var a=n(9213),c=n(21671),d=n(12257),h=n(82053),x=n(7653),u=n(44414);function g(e){let{title:t,description:n,img:l,sx:s,...i}=e;return(0,u.jsxs)(d.A,{alignItems:"center",justifyContent:"center",sx:{height:1,textAlign:"center",p:e=>e.spacing(8,2),...s},...i,children:[(0,u.jsx)(x.A,{disabledEffect:!0,alt:"empty content",src:l||"/assets/illustrations/illustration_empty_content.svg",sx:{height:240,mb:3}}),(0,u.jsx)(h.A,{variant:"h5",gutterBottom:!0,children:t}),n&&(0,u.jsx)(h.A,{variant:"body2",sx:{color:"text.secondary"},children:n})]})}function p(e){let{isNotFound:t}=e;return(0,u.jsx)(a.A,{children:t?(0,u.jsx)(c.A,{colSpan:12,children:(0,u.jsx)(g,{title:"No Data",sx:{"& span.MuiBox-root":{height:160}}})}):(0,u.jsx)(c.A,{colSpan:12,sx:{p:0}})})}function m(e){let{emptyRows:t,height:n}=e;return t?(0,u.jsx)(a.A,{sx:{...n&&{height:n*t}},children:(0,u.jsx)(c.A,{colSpan:9})}):null}var j=n(69780),f=n(7251),A=n(16491);const v={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function w(e){let{order:t,orderBy:n,rowCount:l=0,headLabel:s,numSelected:i=0,onSort:o,onSelectAllRows:r,sx:d}=e;return(0,u.jsx)(j.A,{sx:d,children:(0,u.jsx)(a.A,{children:s.map((e=>(0,u.jsx)(c.A,{align:e.align||"left",sortDirection:n===e.id&&t,sx:{width:e.width,minWidth:e.minWidth},children:o?(0,u.jsxs)(f.A,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:()=>o(e.id),sx:{textTransform:"capitalize"},children:[e.label,n===e.id?(0,u.jsx)(A.A,{sx:{...v},children:"desc"===t?"sorted descending":"sorted ascending"}):null]}):e.label},e.id)))})})}var b=n(93038);function S(e){let{dense:t,action:n,rowCount:l,numSelected:s,onSelectAllRows:i,sx:o,...r}=e;return s?(0,u.jsxs)(d.A,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:"primary.lighter",...t&&{height:38},...o},...r,children:[(0,u.jsx)(b.A,{indeterminate:s>0&&s<l,checked:l>0&&s===l,onChange:e=>i(e.target.checked)}),(0,u.jsxs)(h.A,{variant:"subtitle1",sx:{ml:2,flexGrow:1,color:"primary.main",...t&&{ml:3}},children:[s," selected"]}),n&&n]}):null}var C=n(91434),y=n(16497),R=n(37324);function P(e){let{dense:t,onChangeDense:n,rowsPerPageOptions:l=[5,10,25],sx:s,...i}=e;return(0,u.jsxs)(A.A,{sx:{position:"relative",...s},children:[(0,u.jsx)(C.A,{rowsPerPageOptions:l,component:"div",...i}),n&&(0,u.jsx)(y.A,{label:"Dense",control:(0,u.jsx)(R.A,{checked:t,onChange:n}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}})]})}},55080:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var l=n(76455),s=n(9950),i=n(19808),o=n(48089),r=n(38200),a=n(84142),c=n(74745),d=n(1320),h=n(83274),x=n(25333),u=n(15769),g=n(34075),p=n(45098),m=n(90260),j=n(39332),f=n(64071),A=n(78084),v=n(87033),w=n(59905),b=n(54593),S=n(9213),C=n(21671),y=n(23266),R=n(39635),P=n(44414);function k(e){let{row:t,selected:n,onEditRow:l,onSelectRow:i,onDeleteRow:o}=e;const{name:r,preferred_location:a,location:c,phone_number:d,description:h}=t,[u,g]=(0,s.useState)(!1),[m,f]=(0,s.useState)(null),v=()=>{f(null)};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(S.A,{hover:!0,selected:n,children:[(0,P.jsx)(C.A,{align:"left",sx:{textTransform:"capitalize"},children:r}),(0,P.jsx)(C.A,{align:"left",sx:{textTransform:"capitalize"},children:a}),(0,P.jsx)(C.A,{align:"left",sx:{textTransform:"capitalize"},children:c}),(0,P.jsx)(C.A,{align:"left",sx:{textTransform:"capitalize"},children:d}),(0,P.jsx)(C.A,{align:"left",sx:{textTransform:"capitalize"},children:h}),(0,P.jsx)(C.A,{align:"right",children:(0,P.jsx)(x.A,{color:m?"inherit":"default",onClick:e=>{f(e.currentTarget)},children:(0,P.jsx)(j.A,{icon:"eva:more-vertical-fill"})})})]}),(0,P.jsx)(R.A,{open:m,onClose:v,arrow:"right-top",sx:{width:140},children:(0,P.jsxs)(y.A,{onClick:()=>{g(!0),v()},sx:{color:"error.main"},children:[(0,P.jsx)(j.A,{icon:"eva:trash-2-outline"}),"Delete"]})}),(0,P.jsx)(A.A,{open:u,onClose:()=>{g(!1)},title:"Delete",content:"Are you sure want to delete?",action:(0,P.jsx)(p.A,{variant:"contained",color:"error",onClick:o,children:"Delete"})})]})}var D=n(12257),F=n(16987),L=n(2046);function N(e){let{isFiltered:t,filterName:n,filterRole:l,optionsRole:s,onFilterName:i,onFilterRole:o,onResetFilter:r}=e;return(0,P.jsx)(D.A,{spacing:2,alignItems:"center",direction:{xs:"column",sm:"row"},sx:{px:2.5,py:3},children:(0,P.jsx)(F.A,{fullWidth:!0,value:n,onChange:i,placeholder:"Search...",InputProps:{startAdornment:(0,P.jsx)(L.A,{position:"start",children:(0,P.jsx)(j.A,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})})}const B=n(29994).FH.injectEndpoints({reducerPath:"apiUser",endpoints:e=>({getMessages:e.query({query:()=>"/messages",providesTags:["messages"]}),deleteMessages:e.mutation({query:t=>({url:"/messages/".concat(t),method:"Delete",body:e}),invalidatesTags:["/messages"]})})}),{useGetMessagesQuery:M,useDeleteMessagesMutation:_}=B,z=[],O=["all","activ","unActiv"],W=[{id:"name",label:"Name",align:"left"},{id:"preferred_location",label:"Preferred Location",align:"left"},{id:"location",label:"Location",align:"left"},{id:"phone_number",label:"Phone Number",align:"left"},{id:"description",label:"Description",align:"left"},{id:"",label:"",align:"left"}];function I(){var e;const{dense:t,page:n,order:S,orderBy:C,rowsPerPage:y,setPage:R,selected:D,setSelected:F,onSelectRow:L,onSelectAllRows:B,onSort:I,onChangeDense:T,onChangePage:E,onChangeRowsPerPage:q}=(0,b.K2)(),{themeStretch:G}=(0,w.Mp)(),{data:U,isServiseLoading:K,refetch:H}=M(),[Q,J]=(0,s.useState)([]);(0,s.useEffect)((()=>{var e;U&&!K&&J(null===U||void 0===U||null===(e=U.data)||void 0===e?void 0:e.data)}),[U,Q,K]);const[V,X]=(0,s.useState)(!1),[Y,Z]=(0,s.useState)(""),[$,ee]=(0,s.useState)("all"),[te,ne]=(0,s.useState)("all"),le=function(e){let{inputData:t,comparator:n,filterName:l,filterStatus:s,filterRole:i}=e;const o=t.map(((e,t)=>[e,t]));o.sort(((e,t)=>{const l=n(e[0],t[0]);return 0!==l?l:e[1]-t[1]})),t=o.map((e=>e[0])),l&&(t=t.filter((e=>-1!==e.name.ar.toLowerCase().indexOf(l.toLowerCase()))));"all"!==s&&(t=t.filter((e=>e.active===s)));"all"!==i&&(t=t.filter((e=>e.role===i)));return t}({inputData:Q,comparator:(0,b.hz)(S,C),filterName:Y,filterRole:$,filterStatus:te}),se=le.slice(n*y,n*y+y),ie=t?52:72,oe=""!==Y||"all"!==$||"all"!==te,re=!le.length&&!!Y||!le.length&&!!$||!le.length&&!!te,ae=()=>{X(!1)},[ce]=_();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(l.mg,{children:(0,P.jsx)("title",{children:" Messages: List "})}),(0,P.jsxs)(i.A,{maxWidth:!G&&"lg",children:[(0,P.jsx)(v.A,{heading:"Messages List",links:[{name:"Dashboard",href:m.nB.root},{name:"Messages",href:m.nB.messages.list},{name:"List"}]}),(0,P.jsxs)(o.A,{children:[(0,P.jsx)(r.A,{value:te,onChange:(e,t)=>{R(0),ne(t)},sx:{px:2,bgcolor:"background.neutral"},children:z.map((e=>(0,P.jsx)(a.A,{label:e,value:e},e)))}),(0,P.jsx)(c.A,{}),(0,P.jsx)(N,{isFiltered:oe,filterName:Y,filterRole:$,optionsRole:O,onFilterName:e=>{R(0),Z(e.target.value)},onFilterRole:e=>{R(0),ee(e.target.value)},onResetFilter:()=>{Z(""),ee("all"),ne("all")}}),(0,P.jsxs)(d.A,{sx:{position:"relative",overflow:"unset"},children:[(0,P.jsx)(b.Uv,{dense:t,numSelected:D.length,rowCount:Q.length,onSelectAllRows:e=>B(e,Q.map((e=>e.id))),action:(0,P.jsx)(h.A,{title:"Delete",children:(0,P.jsx)(x.A,{color:"primary",onClick:()=>{X(!0)},children:(0,P.jsx)(j.A,{icon:"eva:trash-2-outline"})})})}),(0,P.jsx)(f.A,{children:(0,P.jsxs)(u.A,{size:t?"small":"medium",sx:{minWidth:800},children:[(0,P.jsx)(b.er,{order:S,orderBy:C,headLabel:W,rowCount:Q.length,numSelected:D.length,onSort:I,onSelectAllRows:e=>B(e,Q.map((e=>e.id)))}),(0,P.jsxs)(g.A,{children:[le.slice(n*y,n*y+y).map((e=>(0,P.jsx)(k,{row:e,selected:D.includes(null===e||void 0===e?void 0:e.id),onSelectRow:()=>L(null===e||void 0===e?void 0:e.id),onDeleteRow:()=>(async e=>{await ce(e);const t=null===Q||void 0===Q?void 0:Q.filter((t=>(null===t||void 0===t?void 0:t.id)!==e));F([]),J(t),H(),n>0&&se.length<2&&R(n-1)})(null===e||void 0===e?void 0:e.id)},null===e||void 0===e?void 0:e.id))),(0,P.jsx)(b.dO,{height:ie,emptyRows:(0,b.xl)(n,y,Q.length)}),(0,P.jsx)(b.Sm,{isNotFound:re})]})]})})]}),(0,P.jsx)(b.We,{count:null===U||void 0===U||null===(e=U.data)||void 0===e?void 0:e.per_page,page:n,rowsPerPage:y,onPageChange:E,onRowsPerPageChange:q,dense:t,onChangeDense:T})]})]}),(0,P.jsx)(A.A,{open:V,onClose:ae,title:"Delete",content:(0,P.jsxs)(P.Fragment,{children:["Are you sure want to delete"," ",(0,P.jsxs)("strong",{children:[" ",D.length," "]})," items?"]}),action:(0,P.jsx)(p.A,{variant:"contained",color:"error",onClick:()=>{ae()},children:"Delete"})})]})}}}]);