"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[8162],{48162:function(e,n,i){i.r(n),i.d(n,{default:function(){return O}});var t=i(29439),l=i(65964),o=i(73709),r=i(47313),s=i(58467),a=i(2135),u=i(47825),d=i(69099),c=i(73428),h=i(82294),f=i(65280),g=i(19536),v=i(51629),x=i(61689),m=i(47131),j=i(66835),Z=i(57861),p=i(48175),w=i(23116),S=i(53261),F=i(58772),C=i(38875),R=i(50152),y=i(21570),D=i(24076),b=i(67478),P=i(61113),k=i(63585),T=i(51405),_=i(22608),q=i(86028),A=i(46417);function E(e){var n=e.row,i=e.selected,l=e.onEditRow,o=(e.onSelectRow,e.onDeleteRow),s=n.name,a=n.is_active,u=(0,r.useState)(!1),c=(0,t.Z)(u,2),h=c[0],f=c[1],g=(0,r.useState)(null),v=(0,t.Z)(g,2),x=v[0],j=v[1],Z=function(){j(null)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(D.Z,{hover:!0,selected:i,children:[(0,A.jsx)(b.Z,{children:(0,A.jsx)(q.Z,{direction:"row",alignItems:"center",spacing:2,children:(0,A.jsx)(P.Z,{variant:"subtitle2",noWrap:!0,children:s.en})})}),(0,A.jsx)(b.Z,{align:"left",sx:{textTransform:"capitalize"},children:s.ar}),(0,A.jsx)(b.Z,{align:"center",sx:{textTransform:"capitalize"},children:1===a?(0,A.jsx)(k.Z,{alt:s.en,src:"/assets/done.svg"}):(0,A.jsx)(k.Z,{alt:s.en,src:"/assets/unDone.svg"})}),(0,A.jsx)(b.Z,{align:"right",children:(0,A.jsx)(m.Z,{color:x?"inherit":"default",onClick:function(e){j(e.currentTarget)},children:(0,A.jsx)(w.Z,{icon:"eva:more-vertical-fill"})})})]}),(0,A.jsxs)(_.Z,{open:x,onClose:Z,arrow:"right-top",sx:{width:140},children:[(0,A.jsxs)(T.Z,{onClick:function(){f(!0),Z()},sx:{color:"error.main"},children:[(0,A.jsx)(w.Z,{icon:"eva:trash-2-outline"}),"Delete"]}),(0,A.jsxs)(T.Z,{onClick:function(){l(),Z()},children:[(0,A.jsx)(w.Z,{icon:"eva:edit-fill"}),"Edit"]})]}),(0,A.jsx)(F.Z,{open:h,onClose:function(){f(!1)},title:"Delete",content:"Are you sure want to delete?",action:(0,A.jsx)(d.Z,{variant:"contained",color:"error",onClick:o,children:"Delete"})})]})}var N=i(35898),L=i(68687),B=i(41727);function I(e){e.isFiltered;var n=e.filterName,i=(e.filterRole,e.optionsRole,e.onFilterName);e.onFilterRole,e.onResetFilter;return(0,A.jsx)(N.Z,{spacing:2,alignItems:"center",direction:{xs:"column",sm:"row"},sx:{px:2.5,py:3},children:(0,A.jsx)(L.Z,{fullWidth:!0,value:n,onChange:i,placeholder:"Search...",InputProps:{startAdornment:(0,A.jsx)(B.Z,{position:"start",children:(0,A.jsx)(w.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})})}var W=i(440),M=[],Q=["all","true","false"],z=[{id:"English",label:"English",align:"left"},{id:"Arabic",label:"Arabic",align:"left"},{id:"is_active",label:"Status",align:"left"},{id:""}];function O(){var e,n,i=(0,y.x6)(),D=i.dense,b=i.page,P=i.order,k=i.orderBy,T=i.rowsPerPage,_=i.setPage,q=i.selected,N=i.setSelected,L=i.onSelectRow,B=i.onSelectAllRows,O=i.onSort,G=i.onChangeDense,K=i.onChangePage,U=i.onChangeRowsPerPage,$=(0,R.K$)().themeStretch,J=(0,s.s0)(),H=(0,W.e1)(),V=H.data,X=H.isLoading,Y=H.refetch,ee=(0,r.useState)([]),ne=(0,t.Z)(ee,2),ie=ne[0],te=ne[1];(0,r.useEffect)((function(){var e;V&&!X&&te(null===V||void 0===V||null===(e=V.data)||void 0===e?void 0:e.data)}),[V,ie,X]);var le=(0,r.useState)(!1),oe=(0,t.Z)(le,2),re=oe[0],se=oe[1],ae=(0,r.useState)(""),ue=(0,t.Z)(ae,2),de=ue[0],ce=ue[1],he=(0,r.useState)("all"),fe=(0,t.Z)(he,2),ge=fe[0],ve=fe[1],xe=(0,r.useState)("all"),me=(0,t.Z)(xe,2),je=me[0],Ze=me[1],pe=function(e){var n,i=e.inputData,t=e.comparator,l=e.filterName,o=e.filterStatus,r=e.filterRole,s=i.map((function(e,n){return[e,n]}));s.sort((function(e,n){var i=t(e[0],n[0]);return 0!==i?i:e[1]-n[1]})),i=null===s||void 0===s?void 0:s.map((function(e){return e[0]})),l&&(i=null===(n=i)||void 0===n?void 0:n.filter((function(e){return-1!==e.name.ar.toLowerCase().indexOf(l.toLowerCase())})));"all"!==o&&(i=i.filter((function(e){return e.active===o})));"all"!==r&&(i=i.filter((function(e){return e.role===r})));return i}({inputData:ie,comparator:(0,y.sQ)(P,k),filterName:de,filterRole:ge,filterStatus:je}),we=null===pe||void 0===pe?void 0:pe.slice(b*T,b*T+T),Se=D?52:72,Fe=""!==de||"all"!==ge||"all"!==je,Ce=!(null!==pe&&void 0!==pe&&pe.length)&&!!de||!(null!==pe&&void 0!==pe&&pe.length)&&!!ge||!(null!==pe&&void 0!==pe&&pe.length)&&!!je,Re=function(){se(!1)},ye=(0,W.iT)(),De=(0,t.Z)(ye,1)[0];return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(l.ql,{children:(0,A.jsx)("title",{children:" Finishing: List"})}),(0,A.jsxs)(u.Z,{maxWidth:!$&&"lg",children:[(0,A.jsx)(C.Z,{heading:"Finishing List",links:[{name:"Dashboard",href:p.vB.root},{name:"Finishing",href:p.vB.finishing.root},{name:"List"}],action:(0,A.jsx)(d.Z,{component:a.rU,to:p.vB.finishing.new,variant:"contained",startIcon:(0,A.jsx)(w.Z,{icon:"eva:plus-fill"}),children:"New Finishing"})}),(0,A.jsxs)(c.Z,{children:[(0,A.jsx)(h.Z,{value:je,onChange:function(e,n){_(0),Ze(n)},sx:{px:2,bgcolor:"background.neutral"},children:M.map((function(e){return(0,A.jsx)(f.Z,{label:e,value:e},e)}))}),(0,A.jsx)(g.Z,{}),(0,A.jsx)(I,{isFiltered:Fe,filterName:de,filterRole:ge,optionsRole:Q,onFilterName:function(e){_(0),ce(e.target.value)},onFilterRole:function(e){_(0),ve(e.target.value)},onResetFilter:function(){ce(""),ve("all"),Ze("all")}}),(0,A.jsxs)(v.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,A.jsx)(y.Z4,{dense:D,numSelected:null===q||void 0===q?void 0:q.length,rowCount:null===ie||void 0===ie?void 0:ie.length,onSelectAllRows:function(e){return B(e,null===ie||void 0===ie?void 0:ie.map((function(e){return e.id})))},action:(0,A.jsx)(x.Z,{title:"Delete",children:(0,A.jsx)(m.Z,{color:"primary",onClick:function(){se(!0)},children:(0,A.jsx)(w.Z,{icon:"eva:trash-2-outline"})})})}),(0,A.jsx)(S.Z,{children:(0,A.jsxs)(j.Z,{size:D?"small":"medium",sx:{minWidth:800},children:[(0,A.jsx)(y.K,{order:P,orderBy:k,headLabel:z,rowCount:null===ie||void 0===ie?void 0:ie.length,numSelected:null===q||void 0===q?void 0:q.length,onSort:O,onSelectAllRows:function(e){return B(e,null===ie||void 0===ie?void 0:ie.map((function(e){return e.id})))}}),(0,A.jsxs)(Z.Z,{children:[null===pe||void 0===pe||null===(e=pe.slice(b*T,b*T+T))||void 0===e?void 0:e.map((function(e){return(0,A.jsx)(E,{row:e,selected:q.includes(e.id),onSelectRow:function(){return L(null===e||void 0===e?void 0:e.id)},onDeleteRow:function(){return function(e){De(e);var n=ie.filter((function(n){return n.id!==e}));N([]),te(n),Y(),b>0&&we.length<2&&_(b-1)}(null===e||void 0===e?void 0:e.id)},onEditRow:function(){return n=null===e||void 0===e?void 0:e.id,n=String(n),void J(p.vB.finishing.edit((0,o.o)(n)));var n}},null===e||void 0===e?void 0:e.id)})),(0,A.jsx)(y.$W,{height:Se,emptyRows:(0,y.fQ)(b,T,null===ie||void 0===ie?void 0:ie.length)}),(0,A.jsx)(y.et,{isNotFound:Ce})]})]})})]}),(0,A.jsx)(y.S_,{count:null===V||void 0===V||null===(n=V.data)||void 0===n?void 0:n.per_page,page:b,rowsPerPage:T,onPageChange:K,onRowsPerPageChange:U,dense:D,onChangeDense:G})]})]}),(0,A.jsx)(F.Z,{open:re,onClose:Re,title:"Delete",content:(0,A.jsxs)(A.Fragment,{children:["Are you sure want to delete"," ",(0,A.jsxs)("strong",{children:[" ",null===q||void 0===q?void 0:q.length," "]})," items?"]}),action:(0,A.jsx)(d.Z,{variant:"contained",color:"error",onClick:function(){!function(e){var n=ie.filter((function(n){return!e.includes(n.id)}));if(N([]),te(n),b>0)if(e.length===we.length)_(b-1);else if((null===e||void 0===e?void 0:e.length)===pe.length)_(0);else if((null===e||void 0===e?void 0:e.length)>we.length){var i=Math.ceil(((null===ie||void 0===ie?void 0:ie.length)-e.length)/T)-1;_(i)}}(q),Re()},children:"Delete"})})]})}},440:function(e,n,i){i.d(n,{Ji:function(){return s},e1:function(){return l},iT:function(){return a},u:function(){return r},wq:function(){return o}});var t=i(48526).hi.injectEndpoints({reducerPath:"apiUser",endpoints:function(e){return{getFinishing:e.query({query:function(){return"/finishing"},providesTags:["finishing"]}),getFinishingId:e.query({query:function(e){return"/finishing/".concat(e,"?local=none")},providesTags:["finishing"]}),addFinishing:e.mutation({query:function(e){return{url:"/finishing",method:"POST",body:e}},invalidatesTags:["finishing"]}),editFinishing:e.mutation({query:function(e){var n=e.formData,i=e.id;return{url:"/finishing/".concat(i),method:"POST",body:n}},invalidatesTags:["edit"]}),deleteFinishing:e.mutation({query:function(n){return{url:"/finishing/".concat(n),method:"Delete",body:e}},invalidatesTags:["Delete"]})}}}),l=t.useGetFinishingQuery,o=t.useGetFinishingIdQuery,r=t.useAddFinishingMutation,s=t.useEditFinishingMutation,a=t.useDeleteFinishingMutation}}]);