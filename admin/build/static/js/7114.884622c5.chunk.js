"use strict";(self.webpackChunkadmin_plus=self.webpackChunkadmin_plus||[]).push([[7114],{87033:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(53011),o=n(12257),r=n(82053),i=n(52432),l=n(36080),s=n(42074),d=n(44414);function p(e){let{link:t,activeLast:n,disabled:o}=e;const{name:r,href:i,icon:p}=t,u={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...o&&!n&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},c=(0,d.jsxs)(d.Fragment,{children:[p&&(0,d.jsx)(a.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:p}),r]});return i?(0,d.jsx)(l.A,{component:s.N_,to:i,sx:u,children:c}):(0,d.jsxs)(a.A,{sx:u,children:[" ",c," "]})}function u(e){let{links:t,action:n,heading:s,moreLink:u,activeLast:m,sx:v,...y}=e;const h=t[t.length-1].name;return(0,d.jsxs)(a.A,{sx:{mb:5,...v},children:[(0,d.jsxs)(o.A,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(a.A,{sx:{flexGrow:1},children:[s&&(0,d.jsx)(r.A,{variant:"h4",gutterBottom:!0,children:s}),!!t.length&&(0,d.jsx)(i.A,{separator:(0,d.jsx)(c,{}),...y,children:t.map((e=>(0,d.jsx)(p,{link:e,activeLast:m,disabled:e.name===h},e.name||"")))})]}),n&&(0,d.jsxs)(a.A,{sx:{flexShrink:0},children:[" ",n," "]})]}),!!u&&(0,d.jsx)(a.A,{sx:{mt:2},children:u.map((e=>(0,d.jsx)(l.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}function c(){return(0,d.jsx)(a.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},44537:(e,t,n)=>{n.d(t,{A:()=>p});var a=n(9950),o=n(14857),r=n(53011),i=n(59254),l=n(97497);const s=(0,i.Ay)(r.A)((e=>{let{theme:t,ownerState:n}=e;const a="light"===t.palette.mode,o="filled"===n.variant,r="outlined"===n.variant,i="soft"===n.variant,s={..."default"===n.color&&{...r&&{backgroundColor:"transparent",color:t.palette.text.primary,border:"1px solid ".concat((0,l.X4)(t.palette.grey[500],.32))},...i&&{color:a?t.palette.text.primary:t.palette.common.white,backgroundColor:(0,l.X4)(t.palette.grey[500],.16)}}},d={..."default"!==n.color&&{...o&&{color:t.palette[n.color].contrastText,backgroundColor:t.palette[n.color].main},...r&&{backgroundColor:"transparent",color:t.palette[n.color].main,border:"1px solid ".concat(t.palette[n.color].main)},...i&&{color:t.palette[n.color][a?"dark":"light"],backgroundColor:(0,l.X4)(t.palette[n.color].main,.16)}}};return{height:24,minWidth:22,lineHeight:0,borderRadius:6,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",textTransform:"capitalize",padding:t.spacing(0,1),color:t.palette.grey[800],fontSize:t.typography.pxToRem(12),fontFamily:t.typography.fontFamily,backgroundColor:t.palette.grey[300],fontWeight:t.typography.fontWeightBold,...d,...s}}));var d=n(44414);const p=(0,a.forwardRef)(((e,t)=>{let{children:n,color:a="default",variant:i="soft",startIcon:l,endIcon:p,sx:u,...c}=e;const m=(0,o.A)(),v={width:16,height:16,"& svg, img":{width:1,height:1,objectFit:"cover"}};return(0,d.jsxs)(s,{ref:t,component:"span",ownerState:{color:a,variant:i},sx:{...l&&{pl:.75},...p&&{pr:.75},...u},theme:m,...c,children:[l&&(0,d.jsxs)(r.A,{sx:{mr:.75,...v},children:[" ",l," "]}),n,p&&(0,d.jsxs)(r.A,{sx:{ml:.75,...v},children:[" ",p," "]})]})}))},36466:(e,t,n)=>{n.d(t,{A:()=>L});var a=n(29714),o=n(9950),r=n(28429),i=n(9449),l=n(26473),s=n(28095),d=n(23266),p=n(60899),u=n(48089),c=n(53011),m=n(3788),v=n(57404),y=n(2660),h=n(25277),g=n(12257),x=n(82053),_=n(16497),j=n(37324),A=n(63477),b=n(90260),f=n(44537),C=n(26997),P=n(54146),T=n(72286),w=n(63581),q=n(86210),S=n(90522),I=n(56669),M=n(19618),F=n(22899),E=n(25789),k=n(42976),D=n(68689),Y=n(44414);function R(e,t,n){return{fontWeight:-1===(null===t||void 0===t?void 0:t.indexOf(e))?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}const O={PaperProps:{style:{maxHeight:224,width:250}}};function L(e){var t,n,L,G,B,N,Q,z,H,U,V,W,X,J,K,Z,$,ee,te;let{isEdit:ne=!1,currentService:ae}=e;console.log("\ud83d\ude80 ~ PropertiesNewEditForm ~ currentService:",null===ae||void 0===ae||null===(t=ae.property)||void 0===t?void 0:t.monthly_installment);const[oe,re]=(0,o.useState)([]);(0,o.useEffect)((()=>{var e,t;ae&&null!==ae&&void 0!==ae&&ae.property&&null!==ae&&void 0!==ae&&null!==(e=ae.property)&&void 0!==e&&e.images&&re(null===ae||void 0===ae||null===(t=ae.property)||void 0===t?void 0:t.images)}),[ae]);const{enqueueSnackbar:ie}=(0,C.dh)(),le=(0,F.u)(),[se,de]=(0,o.useState)([]),pe=(0,r.Zp)(),{data:ue,isCompoundsLoading:ce}=(0,I.ql)({limit:999}),me=null===ue||void 0===ue||null===(n=ue.data)||void 0===n?void 0:n.data;let ve=(null===ae||void 0===ae||null===(L=ae.property)||void 0===L?void 0:L.compound_id)||"";ve=String(ve);const[ye,he]=(0,o.useState)(ve);(0,o.useEffect)((()=>{he(ve)}),[ve]);const{data:ge,isAreasLoading:xe}=(0,D.Gz)({limit:999});console.log("\ud83d\ude80 ~ PropertiesNewEditForm ~ data:",ge);const _e=null===ge||void 0===ge||null===(G=ge.data)||void 0===G?void 0:G.data;console.log("\ud83d\ude80 ~ PropertiesNewEditForm ~ AreasDataId:",_e);let je=(null===ae||void 0===ae||null===(B=ae.property)||void 0===B?void 0:B.area_id)||"";je=String(je);const[Ae,be]=(0,o.useState)(je);console.log("\ud83d\ude80 ~ PropertiesNewEditForm ~ AreasId:",Ae),(0,o.useEffect)((()=>{be(je)}),[je]);const{data:fe,isFinishingLoading:Ce}=(0,M.jM)(),Pe=null===fe||void 0===fe||null===(N=fe.data)||void 0===N?void 0:N.data;let Te=null===ae||void 0===ae||null===(Q=ae.property)||void 0===Q?void 0:Q.finish_id;Te=String(Te);const[we,qe]=(0,o.useState)(Te);(0,o.useEffect)((()=>{qe(Te)}),[Te]);const{data:Se,isCountryLoading:Ie}=(0,E.wQ)({currentPage:1,limit:99999}),Me=null===Se||void 0===Se||null===(z=Se.data)||void 0===z?void 0:z.data;let Fe=null===ae||void 0===ae||null===(H=ae.property)||void 0===H?void 0:H.country_id;Fe=String(Fe);const[Ee,ke]=(0,o.useState)(Fe);(0,o.useEffect)((()=>{ke(Fe)}),[Fe]);let De=null===ae||void 0===ae||null===(U=ae.property)||void 0===U?void 0:U.coin_id;De=String(De);const[Ye,Re]=(0,o.useState)(De),{data:Oe,isCoinsLoading:Le}=(0,w.ef)(),Ge=null===Oe||void 0===Oe||null===(V=Oe.data)||void 0===V?void 0:V.data;(0,o.useEffect)((()=>{Re(De)}),[De]);const{data:Be,isPropertyTypeIdLoading:Ne}=(0,S.JB)(),Qe=null===Be||void 0===Be||null===(W=Be.data)||void 0===W?void 0:W.data;let ze=null===ae||void 0===ae||null===(X=ae.property)||void 0===X?void 0:X.property_type_id;ze=String(ze);const[He,Ue]=(0,o.useState)(ze);(0,o.useEffect)((()=>{Ue(ze)}),[ze]);const Ve=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e)return null;let a=[];return null===e||void 0===e||e.forEach((e=>{const o=t?"".concat(e.name.en):e.name.en,r=10*n;a.push((0,Y.jsx)(d.A,{value:e.id,children:(0,Y.jsx)("div",{style:{marginLeft:"".concat(r,"px")},children:o})},e.id)),e.children&&e.children.length>0&&a.push(...Ve(e.children,o,n+1))})),a},{data:We,isAttachedData:Xe}=(0,q.DM)(),Je=null===We||void 0===We||null===(J=We.data)||void 0===J?void 0:J.data,[Ke,Ze]=(0,o.useState)([]);(0,o.useEffect)((()=>{var e;const t=(null===ae||void 0===ae||null===(e=ae.facilities)||void 0===e?void 0:e.map((e=>e.id)))||[];Ze(t)}),[null===ae||void 0===ae?void 0:ae.facilities]);let $e=(null===ae||void 0===ae||null===(K=ae.property)||void 0===K?void 0:K.payment_method)||"";const[et,tt]=(0,o.useState)($e);(0,o.useEffect)((()=>{tt($e)}),[$e]);const nt=["cash","installment","mixed"];let at=(null===ae||void 0===ae||null===(Z=ae.property)||void 0===Z?void 0:Z.sale_type)||"";const[ot,rt]=(0,o.useState)(at);(0,o.useEffect)((()=>{rt(at)}),[at]);const it=[{name:"Primary",value:"primary"},{name:"Resale",value:"resale"},{name:"Rent",value:"rent"},{name:"Invest",value:"invest"}],lt=a.Ik().shape({name:a.Ik({en:a.Yj().required("name en is required"),ar:a.Yj().required("name ar is required")}),address:a.Ik({en:a.Yj().required("address en is required"),ar:a.Yj().required("address ar is required")}),description:a.Ik({en:a.Yj().required("description en is required"),ar:a.Yj().required("description ar is required")}),payment_plans_title:a.Ik({en:a.Yj(),ar:a.Yj()}),property_type_id:a.Yj(),finish_id:a.Yj(),country_id:a.Yj(),coin_id:a.Yj(),sale_type:a.Yj(),phone_number:a.Yj(),whatsapp:a.Yj(),house_area:a.Yj(),bedrooms:a.Yj(),bathrooms:a.Yj(),delivery_in:a.Yj(),trending:a.Yj(),is_available:a.Yj(),monthly_installment:a.Yj(),down_payment:a.Yj(),installment_years:a.Yj(),compound_id:a.Yj(),area_id:a.Yj(),url_location:a.Yj(),agent_code:a.Yj(),payment_method:a.Yj(),initial_payment:a.Yj(),image_floor_plan:a.gl(),master_plan:a.gl().required("required"),start_price:a.Yj(),end_price:a.Yj(),attached:a.YO(),files:a.YO().required()}),st="0.00"===(null===ae||void 0===ae||null===($=ae.property)||void 0===$?void 0:$.monthly_installment)?"0":(null===ae||void 0===ae||null===(ee=ae.property)||void 0===ee||null===(te=ee.monthly_installment)||void 0===te?void 0:te.split(".")[0])||"0";console.log("\ud83d\ude80 ~ PropertiesNewEditForm ~ defaultMonthlyInstallment:",st);const dt=(0,o.useMemo)((()=>{var e,t,n,a,o,r,i,l,s,d,p,u,c,m,v,y,h,g,x,_,j,A,b,f,C,P,T,w,q,S,I,M,F,E;return{name:{en:(null===ae||void 0===ae||null===(e=ae.property)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.en)||"",ar:(null===ae||void 0===ae||null===(n=ae.property)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.ar)||""},sale_type:ot||"",address:{en:(null===ae||void 0===ae||null===(o=ae.property)||void 0===o||null===(r=o.address)||void 0===r?void 0:r.en)||"",ar:(null===ae||void 0===ae||null===(i=ae.property)||void 0===i||null===(l=i.address)||void 0===l?void 0:l.ar)||""},description:{en:(null===ae||void 0===ae||null===(s=ae.property)||void 0===s||null===(d=s.description)||void 0===d?void 0:d.en)||"",ar:(null===ae||void 0===ae||null===(p=ae.property)||void 0===p||null===(u=p.description)||void 0===u?void 0:u.ar)||""},payment_plans_title:{en:(null===ae||void 0===ae||null===(c=ae.property)||void 0===c||null===(m=c.payment_plans_title)||void 0===m?void 0:m.en)||"",ar:(null===ae||void 0===ae||null===(v=ae.property)||void 0===v||null===(y=v.payment_plans_title)||void 0===y?void 0:y.ar)||""},phone_number:(null===ae||void 0===ae||null===(h=ae.property)||void 0===h?void 0:h.phone_number)||"0",whatsapp:(null===ae||void 0===ae||null===(g=ae.property)||void 0===g?void 0:g.whatsapp)||"0",property_type_id:He||"",house_area:(null===ae||void 0===ae||null===(x=ae.property)||void 0===x?void 0:x.house_area)||"0",start_price:(null===ae||void 0===ae||null===(_=ae.property)||void 0===_?void 0:_.start_price)||"0",end_price:(null===ae||void 0===ae||null===(j=ae.property)||void 0===j?void 0:j.end_price)||"0",area_id:Ae||"",trending:(null===ae||void 0===ae||null===(A=ae.property)||void 0===A?void 0:A.trending)||"0",is_available:(null===ae||void 0===ae||null===(b=ae.property)||void 0===b?void 0:b.is_available)||"0",bedrooms:(null===ae||void 0===ae||null===(f=ae.property)||void 0===f?void 0:f.bedrooms)||"0",bathrooms:(null===ae||void 0===ae||null===(C=ae.property)||void 0===C?void 0:C.bathrooms)||"0",monthly_installment:(null===ae||void 0===ae||null===(P=ae.property)||void 0===P?void 0:P.monthly_installment)||"0",installment_years:(null===ae||void 0===ae||null===(T=ae.property)||void 0===T?void 0:T.installment_years)||"0",down_payment:(null===ae||void 0===ae||null===(w=ae.property)||void 0===w?void 0:w.down_payment)||"0",delivery_in:(null===ae||void 0===ae||null===(q=ae.property)||void 0===q?void 0:q.delivery_in)||"",url_location:(null===ae||void 0===ae||null===(S=ae.property)||void 0===S?void 0:S.url_location)||"",image_floor_plan:(null===ae||void 0===ae||null===(I=ae.property)||void 0===I?void 0:I.image_floor_plan)||[],master_plan:null===ae||void 0===ae||null===(M=ae.property)||void 0===M?void 0:M.master_plan,initial_payment:(null===ae||void 0===ae||null===(F=ae.property)||void 0===F?void 0:F.initial_payment)||"0",payment_method:et||"",compound_id:ye||"",finish_id:we||"",country_id:Ee||"",coin_id:Ye||"",agent_code:(null===ae||void 0===ae||null===(E=ae.property)||void 0===E?void 0:E.agent_code)||"",attached:Ke||[],files:oe}}),[null===ae||void 0===ae?void 0:ae.property]),pt=(0,i.mN)({resolver:(0,l.t)(lt),defaultValues:dt}),{reset:ut,watch:ct,control:mt,setValue:vt,handleSubmit:yt,formState:{isSubmitting:ht}}=pt,gt=ct();(0,o.useEffect)((()=>{ne&&null!==ae&&void 0!==ae&&ae.property&&ut(dt),ne||ut(dt)}),[ne,null===ae||void 0===ae?void 0:ae.property]);const{refetch:xt}=(0,T.zq)(),[_t]=(0,T.fx)(),[jt]=(0,T.Iw)(),At=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),bt=(0,o.useCallback)((e=>{const t=e[0],n=Object.assign(t,{preview:URL.createObjectURL(t)});t&&vt("image_floor_plan",n,{shouldValidate:!0})}),[vt]),ft=(0,o.useCallback)((e=>{const t=e[0],n=Object.assign(t,{preview:URL.createObjectURL(t)});t&&vt("master_plan",n,{shouldValidate:!0})}),[vt]),Ct=(0,o.useCallback)((e=>{const t=e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)})));re([...oe,...t])}),[oe,re]);return(0,Y.jsx)(P.Ay,{methods:pt,onSubmit:yt((async e=>{try{const t=parseFloat(e.start_price.replace(/,/g,"")),n=parseFloat(e.end_price.replace(/,/g,"")),a=parseFloat(e.initial_payment.replace(/,/g,"")),o=parseFloat(e.down_payment.replace(/,/g,"")),r=parseFloat(e.monthly_installment.replace(/,/g,"")),i=new FormData;i.append("ar_name",e.name.ar),i.append("en_name",e.name.en),i.append("ar_address",e.address.ar),i.append("en_address",e.address.en),i.append("ar_description",e.description.ar),i.append("en_description",e.description.en),i.append("ar_payment_plans_title",e.payment_plans_title.ar),i.append("en_payment_plans_title",e.payment_plans_title.en),i.append("phone_number",e.phone_number),i.append("whatsapp",e.whatsapp),i.append("start_price",t),i.append("end_price",n),i.append("area_id",Ae),i.append("house_area",e.house_area),i.append("bedrooms",e.bedrooms),i.append("bathrooms",e.bathrooms),i.append("monthly_installment",r.toString()),i.append("installment_years",e.installment_years),i.append("delivery_in",e.delivery_in),i.append("trending",e.trending),i.append("is_available",e.is_available),i.append("url_location",e.url_location),i.append("payment_method",et),i.append("sale_type",ot),i.append("initial_payment",a),i.append("property_type_id",He),i.append("compound_id",ye),i.append("finish_id",we),i.append("country_id",Ee),i.append("down_payment",o),i.append("coin_id",Ye),i.append("agent_code",e.agent_code),null===Ke||void 0===Ke||Ke.map((e=>i.append("attached[]",e))),"object"===typeof e.image_floor_plan&&e.image_floor_plan instanceof File&&i.append("image_floor_plan",e.image_floor_plan),"object"===typeof e.master_plan&&e.master_plan instanceof File&&i.append("master_plan",e.master_plan),null===oe||void 0===oe||oe.map((e=>("object"===typeof e&&e instanceof File&&i.append("files[]",e),null))),null!==se&&void 0!==se&&se.length&&(null===se||void 0===se||se.map((e=>i.append("images_to_delete[]",e)))),ne?await jt({formData:i,id:null===ae||void 0===ae?void 0:ae.property.id}).unwrap():await _t(i).unwrap(),ut(),xt(),ie(ne?"Update success!":"Create success!"),pe(b.nB.properties.list)}catch(t){const e=t.data.message||"An error occurred";ie(e,{variant:"error"})}})),children:(0,Y.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,Y.jsx)(p.Ay,{item:!0,xs:12,md:12,children:(0,Y.jsxs)(u.A,{sx:{p:3},children:[(0,Y.jsxs)(c.A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},alignItems:"center",children:[(0,Y.jsx)(P.o3,{name:"name.ar",label:"Name ar *"}),(0,Y.jsx)(P.o3,{name:"name.en",label:"Name en *"}),(0,Y.jsx)(P.o3,{name:"address.ar",label:"Address ar *"}),(0,Y.jsx)(P.o3,{name:"address.en",label:"Address en *"}),(0,Y.jsxs)(c.A,{children:[(0,Y.jsx)(m.A,{id:"coin",children:"Currency *"}),(0,Y.jsx)(v.A,{sx:{width:"100%"},labelId:"coin",value:Ye,onChange:e=>{Re(e.target.value)},name:"coin_id",children:null===Ge||void 0===Ge?void 0:Ge.map((e=>(0,Y.jsx)(d.A,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.code})))})]}),(0,Y.jsxs)(c.A,{children:[(0,Y.jsx)(m.A,{id:"PropType",children:"Property Type *"}),(0,Y.jsx)(v.A,{value:He,sx:{width:"100%"},onChange:e=>{Ue(e.target.value)},id:"PropType",name:"parent_id",children:Ve(Qe)})]}),(0,Y.jsxs)(c.A,{children:[(0,Y.jsx)(m.A,{id:"sale_type",children:"Sale Type *"}),(0,Y.jsx)(v.A,{sx:{width:"100%"},labelId:"sale_type",value:ot,onChange:e=>{rt(e.target.value)},name:"sale_type",children:null===it||void 0===it?void 0:it.map((e=>(0,Y.jsx)(d.A,{value:null===e||void 0===e?void 0:e.value,children:null===e||void 0===e?void 0:e.name})))})]}),(0,Y.jsxs)(c.A,{children:[(0,Y.jsx)(m.A,{id:"finish_id",children:"Finishing *"}),(0,Y.jsx)(v.A,{sx:{width:"100%"},labelId:"finish_id",value:we,onChange:e=>{qe(e.target.value)},name:"finish_id",children:null===Pe||void 0===Pe?void 0:Pe.map((e=>(0,Y.jsx)(d.A,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name.en})))})]}),(0,Y.jsxs)(c.A,{children:[(0,Y.jsx)(m.A,{id:"country",children:"Country *"}),(0,Y.jsx)(v.A,{sx:{width:"100%"},labelId:"country",value:Ee,onChange:e=>{ke(e.target.value)},name:"country",children:null===Me||void 0===Me?void 0:Me.map((e=>(0,Y.jsx)(d.A,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name.en})))})]}),(0,Y.jsxs)(c.A,{children:[(0,Y.jsx)(m.A,{id:"demo-multiple-checkbox-label",children:"Facilities *"}),(0,Y.jsx)(v.A,{sx:{width:"100%"},labelId:"demo-multiple-chip-label",id:"demo-multiple-chip",multiple:!0,value:Ke,onChange:e=>{const{target:{value:t}}=e;Ze(t)},input:(0,Y.jsx)(y.A,{id:"select-multiple-chip",label:"Chip"}),renderValue:e=>(0,Y.jsx)(c.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:null===e||void 0===e?void 0:e.map((e=>{var t;return(0,Y.jsx)(h.A,{label:null===Je||void 0===Je||null===(t=Je.find((t=>(null===t||void 0===t?void 0:t.id)===e)))||void 0===t?void 0:t.name.en},e)}))}),MenuProps:O,children:null===Je||void 0===Je?void 0:Je.map((e=>(0,Y.jsx)(d.A,{value:null===e||void 0===e?void 0:e.id,style:R(e,Ke,le),children:null===e||void 0===e?void 0:e.name.en},null===e||void 0===e?void 0:e.id)))})]}),(0,Y.jsxs)(c.A,{children:[(0,Y.jsx)(m.A,{id:"payment_method",children:"Payment Method *"}),(0,Y.jsx)(v.A,{sx:{width:"100%"},labelId:"payment_method",value:et,onChange:e=>{const t=e.target.value;tt(t)},name:"payment_method",children:null===nt||void 0===nt?void 0:nt.map((e=>(0,Y.jsx)(d.A,{value:e,children:"mixed"===e?"cash or installment":e})))})]}),(0,Y.jsx)(P.o3,{name:"phone_number",label:"Phone Number *"}),(0,Y.jsx)(P.o3,{name:"whatsapp",label:"Whatsapp *"}),(0,Y.jsx)(P.o3,{name:"start_price",label:"Start Price",onChange:e=>{const{value:t}=e.target,n=At(t.replace(/,/g,""));vt("start_price",n,{shouldValidate:!0})}}),(0,Y.jsx)(P.o3,{name:"end_price",label:"End Price",onChange:e=>{const{value:t}=e.target,n=At(t.replace(/,/g,""));vt("end_price",n,{shouldValidate:!0})}}),(0,Y.jsx)(P.o3,{name:"house_area",label:"House Area m\xb2",rules:{validate:e=>/^\d*$/.test(e)||"\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0623\u0631\u0642\u0627\u0645 \u0641\u0642\u0637"},inputProps:{inputMode:"numeric",pattern:"[0-9]*"}}),(0,Y.jsx)(P.o3,{name:"bedrooms",label:"Bedrooms"}),(0,Y.jsx)(P.o3,{name:"bathrooms",label:"Bathrooms"}),(0,Y.jsx)(P.o3,{name:"delivery_in",label:"Delivery In"}),(0,Y.jsxs)(c.A,{children:[(0,Y.jsx)(m.A,{id:"compound_id",children:"Compound"}),(0,Y.jsx)(v.A,{sx:{width:"100%"},labelId:"compound_id",value:ye,onChange:e=>{he(e.target.value)},name:"compound_id",children:null===me||void 0===me?void 0:me.map((e=>(0,Y.jsx)(d.A,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name.en})))})]}),(0,Y.jsxs)(c.A,{children:[(0,Y.jsx)(m.A,{id:"area_id",children:"Areas"}),(0,Y.jsx)(v.A,{sx:{width:"100%"},labelId:"area_id",value:Ae,onChange:e=>{be(e.target.value)},name:"area_id",children:null===_e||void 0===_e?void 0:_e.map((e=>(0,Y.jsx)(d.A,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name.en})))})]}),"installment"===et&&(0,Y.jsx)(P.o3,{name:"initial_payment",label:"Initial Payment",onChange:e=>{const{value:t}=e.target,n=At(t.replace(/,/g,""));vt("initial_payment",n,{shouldValidate:!0})}}),(0,Y.jsx)(P.o3,{name:"payment_plans_title.ar",label:"Payment Plans Title ar"}),(0,Y.jsx)(P.o3,{name:"payment_plans_title.en",label:"Payment Plans Title en"}),(0,Y.jsx)(P.o3,{name:"monthly_installment",label:"Monthly Installment",pattern:"[0-9]*",onChange:e=>{const{value:t}=e.target,n=t.replace(/,/g,""),a=At(n);vt("monthly_installment",a,{shouldValidate:!0})}}),(0,Y.jsx)(P.o3,{name:"down_payment",label:"Down Payment",onChange:e=>{const{value:t}=e.target,n=At(t.replace(/,/g,""));vt("down_payment",n,{shouldValidate:!0})}}),(0,Y.jsx)(P.o3,{name:"installment_years",label:"Installment Years"}),(0,Y.jsx)(P.o3,{name:"agent_code",label:"Agent Code"})]}),(0,Y.jsx)(p.Ay,{item:!0,xs:12,md:12,sx:{mt:2,minHeight:50},children:(0,Y.jsxs)(g.A,{children:[(0,Y.jsx)(x.A,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Arabic Description  *"}),(0,Y.jsx)(P.CX,{simple:!0,name:"description.ar"})]})}),(0,Y.jsx)(p.Ay,{item:!0,xs:12,md:12,sx:{mt:2,minHeight:50},children:(0,Y.jsxs)(g.A,{children:[(0,Y.jsx)(x.A,{variant:"subtitle2",sx:{color:"text.secondary"},children:"English Description  *"}),(0,Y.jsx)(P.CX,{simple:!0,name:"description.en"})]})}),(0,Y.jsx)(p.Ay,{item:!0,xs:12,md:12,sx:{mt:2,minHeight:50},children:(0,Y.jsxs)(g.A,{children:[(0,Y.jsxs)(x.A,{variant:"subtitle2",sx:{color:"text.secondary"},children:["I Frame ","<Embed Location in google map>"]}),(0,Y.jsx)(P.CX,{simple:!0,name:"url_location"})]})})]})}),(0,Y.jsx)(p.Ay,{item:!0,xs:12,md:12,children:(0,Y.jsxs)(u.A,{sx:{pt:10,pb:5,px:3},children:[ne&&(0,Y.jsx)(f.A,{color:"active"===gt.status?"success":"error",sx:{textTransform:"uppercase",position:"absolute",top:24,right:24},children:gt.status}),(0,Y.jsx)(k._O,{multiple:!0,files:oe,onDrop:Ct,onRemove:e=>{const t=oe.filter((t=>t!==e));re(t),de((t=>[...t,null===e||void 0===e?void 0:e.id]))}}),(0,Y.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-around",alignItems:"center",mt:2},children:[(0,Y.jsx)(c.A,{sx:{mb:5},children:(0,Y.jsx)(P.BF,{name:"image_floor_plan",maxSize:3145728,onDrop:bt,label:"Image Floor Plan",helperText:(0,Y.jsxs)(x.A,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Image Floor Plan",(0,Y.jsx)("br",{}),"Allowed *.jpeg, *.jpg, *.png, *.gif",(0,Y.jsx)("br",{})," max size of ",(0,A.tm)(3145728)]})})}),(0,Y.jsx)(c.A,{sx:{mb:5},children:(0,Y.jsx)(P.BF,{name:"master_plan",maxSize:3145728,onDrop:ft,label:"Master Plan",helperText:(0,Y.jsxs)(x.A,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Master Plan",(0,Y.jsx)("br",{}),"Allowed *.jpeg, *.jpg, *.png, *.gif",(0,Y.jsx)("br",{})," max size of ",(0,A.tm)(3145728)]})})})]}),(0,Y.jsxs)(c.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,Y.jsx)(_.A,{labelPlacement:"start",control:(0,Y.jsx)(i.xI,{name:"trending",control:mt,render:e=>{let{field:t}=e;return(0,Y.jsx)(j.A,{...t,checked:"0"!==t.value,onChange:e=>t.onChange(e.target.checked?"1":"0")})}}),label:(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(x.A,{variant:"subtitle2",sx:{mb:.5},children:"Trending"}),(0,Y.jsx)(x.A,{variant:"body2",sx:{color:"text.secondary"},children:"Apply Trending"})]}),sx:{mx:0,mb:3,width:1,justifyContent:"center"}}),(0,Y.jsx)(_.A,{labelPlacement:"start",control:(0,Y.jsx)(i.xI,{name:"is_available",control:mt,render:e=>{let{field:t}=e;return(0,Y.jsx)(j.A,{...t,checked:"0"!==t.value,onChange:e=>t.onChange(e.target.checked?"1":"0")})}}),label:(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(x.A,{variant:"subtitle2",sx:{mb:.5},children:"Available"}),(0,Y.jsx)(x.A,{variant:"body2",sx:{color:"text.secondary"},children:"Apply Available"})]}),sx:{mx:0,mb:3,width:1,justifyContent:"center"}})]}),(0,Y.jsx)(g.A,{alignItems:"flex-end",sx:{mt:3},children:(0,Y.jsx)(s.A,{type:"submit",variant:"contained",loading:ht,children:ne?"Save Changes":"Create Property"})})]})})]})})}},25789:(e,t,n)=>{n.d(t,{Bc:()=>r,Fs:()=>l,Gw:()=>s,wQ:()=>o,wT:()=>i});const a=n(29994).FH.injectEndpoints({reducerPath:"apiUser",endpoints:e=>({getCountry:e.query({query:e=>{let{currentPage:t,limit:n}=e;return"/countries?page=".concat(t,"&per_page=").concat(n)},providesTags:["countries"]}),getCountryId:e.query({query:e=>"/countries/".concat(e,"?local=none"),providesTags:["countries"]}),addCountry:e.mutation({query:e=>({url:"/countries",method:"POST",body:e}),invalidatesTags:["countries"]}),editCountry:e.mutation({query:e=>{let{formData:t,id:n}=e;return{url:"/countries/".concat(n),method:"POST",body:t}},invalidatesTags:["countries"]}),deleteCountry:e.mutation({query:t=>({url:"/countries/".concat(t),method:"Delete",body:e}),invalidatesTags:["countries"]})})}),{useGetCountryQuery:o,useGetCountryIdQuery:r,useAddCountryMutation:i,useEditCountryMutation:l,useDeleteCountryMutation:s}=a},90522:(e,t,n)=>{n.d(t,{Hr:()=>s,JB:()=>o,ME:()=>i,xi:()=>r,yK:()=>l});const a=n(29994).FH.injectEndpoints({reducerPath:"apiUser",endpoints:e=>({getPropertyType:e.query({query:()=>"/property-type?per_page=50",invalidatesTags:["property-type"]}),getPropertyTypeId:e.query({query:e=>"/property-type/".concat(e),invalidatesTags:["property-type"]}),addPropertyType:e.mutation({query:e=>({url:"/property-type",method:"POST",body:e}),invalidatesTags:["property-type"]}),editPropertyType:e.mutation({query:e=>{let{formData:t,id:n}=e;return{url:"/property-type/".concat(n),method:"POST",body:t}},invalidatesTags:["property-type"]}),deletePropertyType:e.mutation({query:t=>({url:"/property-type/".concat(t),method:"Delete",body:e}),invalidatesTags:["property-type"]})})}),{useGetPropertyTypeQuery:o,useAddPropertyTypeMutation:r,useEditPropertyTypeMutation:i,useGetPropertyTypeIdQuery:l,useDeletePropertyTypeMutation:s}=a},68689:(e,t,n)=>{n.d(t,{Gz:()=>o,KA:()=>i,bJ:()=>r,d_:()=>l,mg:()=>s});const a=n(29994).FH.injectEndpoints({reducerPath:"apiUser",endpoints:e=>({getAreas:e.query({query:e=>{let{currentPage:t,limit:n}=e;return"/areas?page=".concat(t,"&per_page=").concat(n)},providesTags:["areas"]}),getAreasId:e.query({query:e=>"/areas/".concat(e,"?local=none"),providesTags:["areas"]}),addAreas:e.mutation({query:e=>({url:"/areas",method:"POST",body:e}),invalidatesTags:["areas"]}),editAreas:e.mutation({query:e=>{let{formData:t,id:n}=e;return{url:"/areas/".concat(n),method:"POST",body:t}},invalidatesTags:["areas"]}),deleteAreas:e.mutation({query:t=>({url:"/areas/".concat(t),method:"Delete",body:e}),invalidatesTags:["areas"]})})}),{useGetAreasQuery:o,useGetAreasIdQuery:r,useAddAreasMutation:i,useEditAreasMutation:l,useDeleteAreasMutation:s}=a},63581:(e,t,n)=>{n.d(t,{ef:()=>o});const a=n(29994).FH.injectEndpoints({reducerPath:"apiUser",endpoints:e=>({getCoins:e.query({query:()=>"/coins?per_page=15",providesTags:["coins"]}),editCoins:e.mutation({query:e=>{let{formData:t,id:n}=e;return{url:"/coins/".concat(n),method:"POST",body:t}},invalidatesTags:["/coins"]})})}),{useGetCoinsQuery:o,useEditCoinsMutation:r}=a},56669:(e,t,n)=>{n.d(t,{S4:()=>i,Xz:()=>r,eS:()=>s,ql:()=>o,xg:()=>l});const a=n(29994).FH.injectEndpoints({reducerPath:"apiUser",endpoints:e=>({getCompounds:e.query({query:e=>{let{currentPage:t,limit:n}=e;return"/compounds?page=".concat(t,"&per_page=").concat(n)},providesTags:["compounds"]}),getCompoundsId:e.query({query:e=>"/compounds/".concat(e,"?local=none"),providesTags:["compounds"]}),addCompounds:e.mutation({query:e=>({url:"/compounds",method:"POST",body:e}),invalidatesTags:["compounds"]}),editCompounds:e.mutation({query:e=>{let{formData:t,id:n}=e;return{url:"/compounds/".concat(n),method:"POST",body:t}},invalidatesTags:["/compounds"]}),deleteCompounds:e.mutation({query:t=>({url:"/compounds/".concat(t),method:"Delete",body:e}),invalidatesTags:["/compounds"]})})}),{useGetCompoundsQuery:o,useGetCompoundsIdQuery:r,useAddCompoundsMutation:i,useEditCompoundsMutation:l,useDeleteCompoundsMutation:s}=a},86210:(e,t,n)=>{n.d(t,{DM:()=>o,QN:()=>l,Zx:()=>r,sQ:()=>i,vm:()=>s});const a=n(29994).FH.injectEndpoints({reducerPath:"apiUser",endpoints:e=>({getAttacheds:e.query({query:()=>"/attacheds?per_page=100"}),invalidatesTags:["attacheds"],getAttachedsId:e.query({query:e=>"/attacheds/".concat(e),invalidatesTags:["attacheds"]}),addAttacheds:e.mutation({query:e=>({url:"/attacheds",method:"POST",body:e}),invalidatesTags:["attacheds"]}),editAttacheds:e.mutation({query:e=>{let{formData:t,id:n}=e;return{url:"/attacheds/".concat(n),method:"POST",body:t}},invalidatesTags:["attacheds"]}),deleteAttacheds:e.mutation({query:t=>({url:"/attacheds/".concat(t),method:"Delete",body:e}),invalidatesTags:["attacheds"]})})}),{useGetAttachedsQuery:o,useAddAttachedsMutation:r,useEditAttachedsMutation:i,useGetAttachedsIdQuery:l,useDeleteAttachedsMutation:s}=a},19618:(e,t,n)=>{n.d(t,{FP:()=>s,jM:()=>o,mz:()=>l,pP:()=>i,wJ:()=>r});const a=n(29994).FH.injectEndpoints({reducerPath:"apiUser",endpoints:e=>({getFinishing:e.query({query:()=>"/finishing?per_page=100",providesTags:["finishing"]}),getFinishingId:e.query({query:e=>"/finishing/".concat(e,"?local=none"),providesTags:["finishing"]}),addFinishing:e.mutation({query:e=>({url:"/finishing",method:"POST",body:e}),invalidatesTags:["finishing"]}),editFinishing:e.mutation({query:e=>{let{formData:t,id:n}=e;return{url:"/finishing/".concat(n),method:"POST",body:t}},invalidatesTags:["edit"]}),deleteFinishing:e.mutation({query:t=>({url:"/finishing/".concat(t),method:"Delete",body:e}),invalidatesTags:["Delete"]})})}),{useGetFinishingQuery:o,useGetFinishingIdQuery:r,useAddFinishingMutation:i,useEditFinishingMutation:l,useDeleteFinishingMutation:s}=a},72286:(e,t,n)=>{n.d(t,{Ew:()=>p,Iw:()=>l,W6:()=>r,ae:()=>s,fx:()=>i,zq:()=>o,zr:()=>d});const a=n(29994).FH.injectEndpoints({reducerPath:"apiUser",endpoints:e=>({getProperties:e.query({query:e=>{let{onlyTrashed:t,currentPage:n,limit:a,ref_number:o}=e;return"true"===t?"/properties?onlyTrashed=true&page=".concat(n,"&per_page=").concat(a,"&ref_number=").concat(o):"/properties?page=".concat(n,"&per_page=").concat(a,"&ref_number=").concat(o)},providesTags:["properties"]}),getPropertiesId:e.query({query:e=>"/properties/".concat(e,"?local=none"),providesTags:["properties"]}),addProperties:e.mutation({query:e=>({url:"/properties",method:"POST",body:e}),invalidatesTags:["properties"]}),editProperties:e.mutation({query:e=>{let{formData:t,id:n}=e;return{url:"/properties/".concat(n),method:"POST",body:t}},invalidatesTags:["/properties"]}),restoreProperties:e.mutation({query:t=>({url:"/properties/".concat(t,"/restore"),method:"POST",body:e}),invalidatesTags:["/properties"]}),deleteProperties:e.mutation({query:t=>({url:"/properties/".concat(t),method:"Delete",body:e}),invalidatesTags:["/properties"]}),deleteArchefProperties:e.mutation({query:t=>({url:"/properties/".concat(t,"/force-delete"),method:"Delete",body:e}),invalidatesTags:["/properties"]})})}),{useGetPropertiesQuery:o,useGetPropertiesIdQuery:r,useAddPropertiesMutation:i,useEditPropertiesMutation:l,useRestorePropertiesMutation:s,useDeletePropertiesMutation:d,useDeleteArchefPropertiesMutation:p}=a},52432:(e,t,n)=>{n.d(t,{A:()=>I});var a=n(58168),o=n(98587),r=n(9950),i=(n(26429),n(72004)),l=n(43161),s=n(74061),d=n(59254),p=n(48283),u=n(82053),c=n(99269),m=n(65471),v=n(44414);const y=(0,m.A)((0,v.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var h=n(59271);const g=["slots","slotProps"],x=(0,d.Ay)(h.A)((e=>{let{theme:t}=e;return(0,a.A)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,a.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,a.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,c.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,c.tL)(t.palette.grey[600],.12)})})})),_=(0,d.Ay)(y)({width:24,height:16});const j=function(e){const{slots:t={},slotProps:n={}}=e,r=(0,o.A)(e,g),i=e;return(0,v.jsx)("li",{children:(0,v.jsx)(x,(0,a.A)({focusRipple:!0},r,{ownerState:i,children:(0,v.jsx)(_,(0,a.A)({as:t.CollapsedIcon,ownerState:i},n.collapsedIcon))}))})};var A=n(80863),b=n(68483);function f(e){return(0,b.Ay)("MuiBreadcrumbs",e)}const C=(0,A.A)("MuiBreadcrumbs",["root","ol","li","separator"]),P=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],T=(0,d.Ay)(u.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(C.li)]:t.li},t.root]})({}),w=(0,d.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),q=(0,d.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function S(e,t,n,a){return e.reduce(((o,r,i)=>(i<e.length-1?o=o.concat(r,(0,v.jsx)(q,{"aria-hidden":!0,className:t,ownerState:a,children:n},"separator-".concat(i))):o.push(r),o)),[])}const I=r.forwardRef((function(e,t){const n=(0,p.A)({props:e,name:"MuiBreadcrumbs"}),{children:d,className:u,component:c="nav",slots:m={},slotProps:y={},expandText:h="Show path",itemsAfterCollapse:g=1,itemsBeforeCollapse:x=1,maxItems:_=8,separator:A="/"}=n,b=(0,o.A)(n,P),[C,q]=r.useState(!1),I=(0,a.A)({},n,{component:c,expanded:C,expandText:h,itemsAfterCollapse:g,itemsBeforeCollapse:x,maxItems:_,separator:A}),M=(e=>{const{classes:t}=e;return(0,s.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},f,t)})(I),F=(0,l.Q)({elementType:m.CollapsedIcon,externalSlotProps:y.collapsedIcon,ownerState:I}),E=r.useRef(null),k=r.Children.toArray(d).filter((e=>r.isValidElement(e))).map(((e,t)=>(0,v.jsx)("li",{className:M.li,children:e},"child-".concat(t))));return(0,v.jsx)(T,(0,a.A)({ref:t,component:c,color:"text.secondary",className:(0,i.A)(M.root,u),ownerState:I},b,{children:(0,v.jsx)(w,{className:M.ol,ref:E,ownerState:I,children:S(C||_&&k.length<=_?k:(e=>x+g>=e.length?e:[...e.slice(0,x),(0,v.jsx)(j,{"aria-label":h,slots:{CollapsedIcon:m.CollapsedIcon},slotProps:{collapsedIcon:F},onClick:()=>{q(!0);const e=E.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-g,e.length)])(k),M.separator,A,I)})}))}))},48089:(e,t,n)=>{n.d(t,{A:()=>g});var a=n(58168),o=n(98587),r=n(9950),i=n(72004),l=n(74061),s=n(59254),d=n(48283),p=n(2235),u=n(80863),c=n(68483);function m(e){return(0,c.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var v=n(44414);const y=["className","raised"],h=(0,s.Ay)(p.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),g=r.forwardRef((function(e,t){const n=(0,d.A)({props:e,name:"MuiCard"}),{className:r,raised:s=!1}=n,p=(0,o.A)(n,y),u=(0,a.A)({},n,{raised:s}),c=(e=>{const{classes:t}=e;return(0,l.A)({root:["root"]},m,t)})(u);return(0,v.jsx)(h,(0,a.A)({className:(0,i.A)(c.root,r),elevation:s?8:void 0,ref:t,ownerState:u},p))}))}}]);