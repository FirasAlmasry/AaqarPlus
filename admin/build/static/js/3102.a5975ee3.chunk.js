"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[3102],{13102:function(e,n,t){t.r(n),t.d(n,{default:function(){return $}});var r=t(74165),o=t(15861),i=t(29439),l=t(65964),a=t(73709),s=t(47313),u=t(58467),d=t(2135),c=t(47825),v=t(69099),f=t(73428),h=t(82294),p=t(65280),g=t(19536),m=t(51629),x=t(61689),j=t(47131),Z=t(66835),w=t(57861),D=t(48175),y=t(23116),S=t(53261),C=t(58772),R=t(38875),b=t(50152),A=t(21570),P=t(24076),_=t(67478),k=t(63585),q=t(61113),T=t(51405),F=t(22608),N=t(86028),I=t(12078),L=t(46417);function E(e){var n,t,r=e.row,o=e.selected,l=e.onEditRow,a=(e.onSelectRow,e.onDeleteRow),u=r.image,d=r.name,c=(r.bio_title,r.bio_description,r.top_project_title,r.top_project_description,r.area_id),f="https://aqarbackend.revampbrands.com/storage/".concat(u),h=(0,s.useState)(!1),p=(0,i.Z)(h,2),g=p[0],m=p[1],x=(0,s.useState)(null),Z=(0,i.Z)(x,2),w=Z[0],D=Z[1],S=(0,I.gZ)(c),R=S.data,b=(S.isCoinsLoading,null===R||void 0===R||null===(n=R.data)||void 0===n||null===(t=n.name)||void 0===t?void 0:t.en),A=function(){D(null)};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(P.Z,{hover:!0,selected:o,children:[(0,L.jsx)(_.Z,{children:(0,L.jsxs)(N.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,L.jsx)(k.Z,{alt:d.en,src:f}),(0,L.jsx)(q.Z,{variant:"subtitle2",noWrap:!0,children:"".concat(d.ar.slice(0,20),"...")})]})}),(0,L.jsx)(_.Z,{align:"center",sx:{textTransform:"capitalize"},children:b}),(0,L.jsx)(_.Z,{align:"right",children:(0,L.jsx)(j.Z,{color:w?"inherit":"default",onClick:function(e){D(e.currentTarget)},children:(0,L.jsx)(y.Z,{icon:"eva:more-vertical-fill"})})})]}),(0,L.jsxs)(F.Z,{open:w,onClose:A,arrow:"right-top",sx:{width:140},children:[(0,L.jsxs)(T.Z,{onClick:function(){m(!0),A()},sx:{color:"error.main"},children:[(0,L.jsx)(y.Z,{icon:"eva:trash-2-outline"}),"Delete"]}),(0,L.jsxs)(T.Z,{onClick:function(){l(),A()},children:[(0,L.jsx)(y.Z,{icon:"eva:edit-fill"}),"Edit"]})]}),(0,L.jsx)(C.Z,{open:g,onClose:function(){m(!1)},title:"Delete",content:"Are you sure want to delete?",action:(0,L.jsx)(v.Z,{variant:"contained",color:"error",onClick:a,children:"Delete"})})]})}var M=t(35898),Q=t(68687),B=t(41727);function G(e){e.isFiltered;var n=e.filterName,t=(e.filterRole,e.optionsRole,e.onFilterName);e.onFilterRole,e.onResetFilter;return(0,L.jsx)(M.Z,{spacing:2,alignItems:"center",direction:{xs:"column",sm:"row"},sx:{px:2.5,py:3},children:(0,L.jsx)(Q.Z,{fullWidth:!0,value:n,onChange:t,placeholder:"Search...",InputProps:{startAdornment:(0,L.jsx)(B.Z,{position:"start",children:(0,L.jsx)(y.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})})}var O=t(99308),W=t(58908),U=[],z=["all","true","false"],K=[{id:"ar_name",label:"Developer name",align:"left"},{id:"area",label:"area",align:"center"},{id:""}];function $(){var e,n,t=(0,A.x6)(),P=t.dense,_=t.page,k=t.order,q=t.orderBy,T=t.rowsPerPage,F=t.setPage,N=t.selected,I=t.setSelected,M=t.onSelectRow,Q=t.onSelectAllRows,B=t.onSort,$=t.onChangeDense,H=t.onChangePage,J=t.onChangeRowsPerPage,V=(0,b.K$)().themeStretch,X=(0,u.s0)(),Y=(0,O.Cc)(),ee=Y.data,ne=Y.isLoading,te=Y.refetch,re=(0,s.useState)([]),oe=(0,i.Z)(re,2),ie=oe[0],le=oe[1];(0,s.useEffect)((function(){var e;ee&&!ne&&le(null===ee||void 0===ee||null===(e=ee.data)||void 0===e?void 0:e.data)}),[ee,ie,ne]);var ae=(0,s.useState)(!1),se=(0,i.Z)(ae,2),ue=se[0],de=se[1],ce=(0,s.useState)(""),ve=(0,i.Z)(ce,2),fe=ve[0],he=ve[1],pe=(0,s.useState)("all"),ge=(0,i.Z)(pe,2),me=ge[0],xe=ge[1],je=(0,s.useState)("all"),Ze=(0,i.Z)(je,2),we=Ze[0],De=Ze[1],ye=function(e){var n,t=e.inputData,r=e.comparator,o=e.filterName,i=e.filterStatus,l=e.filterRole,a=t.map((function(e,n){return[e,n]}));a.sort((function(e,n){var t=r(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),t=null===a||void 0===a?void 0:a.map((function(e){return e[0]})),o&&(t=null===(n=t)||void 0===n?void 0:n.filter((function(e){return-1!==e.name.ar.toLowerCase().indexOf(o.toLowerCase())})));"all"!==i&&(t=t.filter((function(e){return e.active===i})));"all"!==l&&(t=t.filter((function(e){return e.role===l})));return t}({inputData:ie,comparator:(0,A.sQ)(k,q),filterName:fe,filterRole:me,filterStatus:we}),Se=null===ye||void 0===ye?void 0:ye.slice(_*T,_*T+T),Ce=P?52:72,Re=""!==fe||"all"!==me||"all"!==we,be=!(null!==ye&&void 0!==ye&&ye.length)&&!!fe||!(null!==ye&&void 0!==ye&&ye.length)&&!!me||!(null!==ye&&void 0!==ye&&ye.length)&&!!we,Ae=function(){de(!1)},Pe=(0,W.Ds)().enqueueSnackbar,_e=(0,O.iR)(),ke=(0,i.Z)(_e,1)[0],qe=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,o,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(n);case 2:(t=e.sent)&&t.error?(console.error("An error occurred while deleting area:",t.error),o=t.error.data.message||"An error occurred",Pe(o,{variant:"error"}),Ae(),de(!1)):(console.log("Area deleted successfully"),i=null===ie||void 0===ie?void 0:ie.filter((function(e){return(null===e||void 0===e?void 0:e.id)!==n})),I([]),le(i),te(),Ae(),de(!1),_>0&&Se.length<2&&F(_-1));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(l.ql,{children:(0,L.jsx)("title",{children:" Developers: List"})}),(0,L.jsxs)(c.Z,{maxWidth:!V&&"lg",children:[(0,L.jsx)(R.Z,{heading:"Developers List",links:[{name:"Dashboard",href:D.vB.root},{name:"Developers",href:D.vB.developers.root},{name:"List"}],action:(0,L.jsx)(v.Z,{component:d.rU,to:D.vB.developers.new,variant:"contained",startIcon:(0,L.jsx)(y.Z,{icon:"eva:plus-fill"}),children:"New Developer"})}),(0,L.jsxs)(f.Z,{children:[(0,L.jsx)(h.Z,{value:we,onChange:function(e,n){F(0),De(n)},sx:{px:2,bgcolor:"background.neutral"},children:U.map((function(e){return(0,L.jsx)(p.Z,{label:e,value:e},e)}))}),(0,L.jsx)(g.Z,{}),(0,L.jsx)(G,{isFiltered:Re,filterName:fe,filterRole:me,optionsRole:z,onFilterName:function(e){F(0),he(e.target.value)},onFilterRole:function(e){F(0),xe(e.target.value)},onResetFilter:function(){he(""),xe("all"),De("all")}}),(0,L.jsxs)(m.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,L.jsx)(A.Z4,{dense:P,numSelected:null===N||void 0===N?void 0:N.length,rowCount:null===ie||void 0===ie?void 0:ie.length,onSelectAllRows:function(e){return Q(e,null===ie||void 0===ie?void 0:ie.map((function(e){return e.id})))},action:(0,L.jsx)(x.Z,{title:"Delete",children:(0,L.jsx)(j.Z,{color:"primary",onClick:function(){de(!0)},children:(0,L.jsx)(y.Z,{icon:"eva:trash-2-outline"})})})}),(0,L.jsx)(S.Z,{children:(0,L.jsxs)(Z.Z,{size:P?"small":"medium",sx:{minWidth:800},children:[(0,L.jsx)(A.K,{order:k,orderBy:q,headLabel:K,rowCount:null===ie||void 0===ie?void 0:ie.length,numSelected:null===N||void 0===N?void 0:N.length,onSort:B,onSelectAllRows:function(e){return Q(e,null===ie||void 0===ie?void 0:ie.map((function(e){return e.id})))}}),(0,L.jsxs)(w.Z,{children:[null===ye||void 0===ye||null===(e=ye.slice(_*T,_*T+T))||void 0===e?void 0:e.map((function(e){return(0,L.jsx)(E,{row:e,selected:N.includes(e.id),onSelectRow:function(){return M(null===e||void 0===e?void 0:e.id)},onDeleteRow:function(){return qe(null===e||void 0===e?void 0:e.id)},onEditRow:function(){return n=null===e||void 0===e?void 0:e.id,n=String(n),void X(D.vB.developers.edit((0,a.o)(n)));var n}},null===e||void 0===e?void 0:e.id)})),(0,L.jsx)(A.$W,{height:Ce,emptyRows:(0,A.fQ)(_,T,null===ie||void 0===ie?void 0:ie.length)}),(0,L.jsx)(A.et,{isNotFound:be})]})]})})]}),(0,L.jsx)(A.S_,{count:null===ee||void 0===ee||null===(n=ee.data)||void 0===n?void 0:n.per_page,page:_,rowsPerPage:T,onPageChange:H,onRowsPerPageChange:J,dense:P,onChangeDense:$})]})]}),(0,L.jsx)(C.Z,{open:ue,onClose:Ae,title:"Delete",content:(0,L.jsxs)(L.Fragment,{children:["Are you sure want to delete"," ",(0,L.jsxs)("strong",{children:[" ",null===N||void 0===N?void 0:N.length," "]})," items?"]}),action:(0,L.jsx)(v.Z,{variant:"contained",color:"error",onClick:function(){!function(e){var n=ie.filter((function(n){return!e.includes(n.id)}));if(I([]),le(n),_>0)if(e.length===Se.length)F(_-1);else if((null===e||void 0===e?void 0:e.length)===ye.length)F(0);else if((null===e||void 0===e?void 0:e.length)>Se.length){var t=Math.ceil(((null===ie||void 0===ie?void 0:ie.length)-e.length)/T)-1;F(t)}}(N),Ae()},children:"Delete"})})]})}},12078:function(e,n,t){t.d(n,{Ic:function(){return s},MH:function(){return l},NG:function(){return o},Td:function(){return a},gZ:function(){return i}});var r=t(48526).hi.injectEndpoints({reducerPath:"apiUser",endpoints:function(e){return{getAreas:e.query({query:function(){return"/areas"},providesTags:["areas"]}),getAreasId:e.query({query:function(e){return"/areas/".concat(e,"?local=none")},providesTags:["areas"]}),addAreas:e.mutation({query:function(e){return{url:"/areas",method:"POST",body:e}},invalidatesTags:["areas"]}),editAreas:e.mutation({query:function(e){var n=e.formData,t=e.id;return{url:"/areas/".concat(t),method:"POST",body:n}},invalidatesTags:["areas"]}),deleteAreas:e.mutation({query:function(n){return{url:"/areas/".concat(n),method:"Delete",body:e}},invalidatesTags:["areas"]})}}}),o=r.useGetAreasQuery,i=r.useGetAreasIdQuery,l=r.useAddAreasMutation,a=r.useEditAreasMutation,s=r.useDeleteAreasMutation},99308:function(e,n,t){t.d(n,{Cc:function(){return o},LA:function(){return l},NR:function(){return a},iR:function(){return s},vQ:function(){return i}});var r=t(48526).hi.injectEndpoints({reducerPath:"apiUser",endpoints:function(e){return{getDevelopers:e.query({query:function(){return"/developers"},providesTags:["developers"]}),getDevelopersId:e.query({query:function(e){return"/developers/".concat(e,"?local=none")},providesTags:["developers"]}),addDevelopers:e.mutation({query:function(e){return{url:"/developers",method:"POST",body:e}},invalidatesTags:["developers"]}),editDevelopers:e.mutation({query:function(e){var n=e.formData,t=e.id;return{url:"/developers/".concat(t),method:"POST",body:n}},invalidatesTags:["/developers"]}),deleteDevelopers:e.mutation({query:function(n){return{url:"/developers/".concat(n),method:"Delete",body:e}},invalidatesTags:["/developers"]})}}}),o=r.useGetDevelopersQuery,i=r.useGetDevelopersIdQuery,l=r.useAddDevelopersMutation,a=r.useEditDevelopersMutation,s=r.useDeleteDevelopersMutation}}]);